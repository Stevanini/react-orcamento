{"version":3,"sources":["routes/history.ts","configs/config.ts","components/Navbar/index.tsx","models/Product.ts","models/Client.ts","models/Budget.ts","models/ProductBudget.ts","services/localStorageService.ts","contexts/ProductsContext/ProductsContext.tsx","contexts/BudgetsContext/BudgetsContext.tsx","contexts/ClientsContext/ClientsContext.tsx","components/ProductsList/index.tsx","components/CreateProduct/index.tsx","components/BudgetsList/index.tsx","components/CreateBudget/index.tsx","components/ClientsList/index.tsx","components/CreateClient/index.tsx","pages/Clients/index.tsx","pages/Budgets/index.tsx","pages/Products/index.tsx","pages/Home/index.tsx","Utils/PdfUtils.ts","pages/Pdf/index.tsx","routes/index.tsx","App.tsx","index.tsx"],"names":["createBrowserHistory","Sider","Layout","Navbar","props","breakpoint","collapsedWidth","trigger","collapsible","collapsed","collapse","to","Config","className","theme","mode","defaultSelectedKeys","Item","icon","DashboardOutlined","ExceptionOutlined","ShoppingOutlined","Product","id","title","description","providerPrice","salePrice","discount","active","Object","setPrototypeOf","this","prototype","Client","name","address","city","email","Budget","endDate","client","products","notes","startDate","total","subTotal","Date","calculateSubTotal","calculateTotal","calculate","forEach","p","discountPercent","isNaN","applyDiscount","ProductBudget","quantity","getFromStorage","key","data","localStorage","getItem","Error","JSON","parse","saveToStorage","setItem","stringify","ProductsContext","createContext","addProduct","removeProduct","editProduct","ProductsProvider","useState","temp","product","push","prepareValues","setProducts","useEffect","dto","Guid","newGuid","toString","productId","result","filter","idxProduct","findIndex","Provider","value","children","BudgetsContext","budgets","addBudget","removeBudget","editBudget","BudgetsProvider","budgetList","budget","tempProductBudget","setBudgets","budgetId","idxBudget","ClientsContext","clients","addClient","removeClient","editClient","ClientsProvider","setClients","clientId","idxClient","confirm","Modal","ProductsList","setProductId","useContext","columns","dataIndex","render","price","toLocaleString","minimumFractionDigits","_","record","size","type","shape","EditOutlined","onClick","DeleteOutlined","danger","ExclamationCircleOutlined","content","okText","okType","cancelText","onOk","onCancel","dataSource","CreateProduct","isModalVisible","setIsModalVisible","Form","useForm","form","setFieldsValue","prepareInitialValues","productBase","find","visible","footer","layout","onFinish","newPproduct","resetFields","initialValues","validateMessages","required","types","number","range","label","rules","message","min","max","placeholder","addonBefore","step","htmlType","BudgetsList","history","useHistory","setBudgetId","toLocaleDateString","length","FilePdfOutlined","Option","Select","CreateBudget","productBudget","setProductBudget","listProductsBudget","setListProductsBudget","clearFormModal","budgetBase","c","width","newBudget","showSearch","optionFilterProp","map","direction","style","marginBottom","onChange","newProductBudget","Number","tempPb","pb","idxProductOnTable","ClientsList","setClientId","CreateClient","clientBase","newClient","Clients","changeModal","breadcrumb","path","breadcrumbName","routes","subTitle","extra","PlusCircleOutlined","Budgets","Products","Home","PdfUtils","GenerateBase64Pdf","element","options","a","drawDOM","paperSize","then","group","exportPDF","dataUri","replace","SendToAPI","fetch","method","body","response","json","GenerateFilePdfDownload","filename","savePDF","margin","fileName","getFullYear","getMonth","getDay","Pdf","useParams","setBudget","lsBudget","b","container","useRef","pdfExportComponent","ref","author","renderPdf","justifyContent","current","document","Routes","exact","component","from","Header","Content","App","setCollapse","minHeight","padding","background","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","ReactDOM","StrictMode","getElementById"],"mappings":"gQAEeA,gB,oDCIA,G,OANE,oBAMF,EAJO,gBAIP,EAHM,eAGN,EAFM,e,OCUbC,EAAUC,IAAVD,MAiCOE,EA/BA,SAACC,GAEf,OACC,eAACH,EAAD,CACCI,WAAW,KACXC,eAAe,IACfC,QAAS,KACTC,aAAW,EACXC,UAAWL,EAAMM,SALlB,UAOC,cAAC,IAAD,CAAMC,GAAE,UAAKC,EAAL,KAAR,SACC,oBAAIC,UAAYT,EAAMM,SAAoB,gBAAT,OAAjC,2CAED,eAAC,IAAD,CAAMI,MAAM,OAAOC,KAAK,SAASC,oBAAqB,CAAC,KAAvD,UACC,cAAC,IAAKC,KAAN,CAAmBC,KAAM,cAACC,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMR,GAAE,UAAKC,EAAL,KAAR,mBADc,KAGf,cAAC,IAAKK,KAAN,CAAmBC,KAAM,cAACE,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMT,GAAE,UAAKC,EAAL,YAAR,uBADc,KAGf,cAAC,IAAKK,KAAN,CAAmBC,KAAM,cAACG,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMV,GAAE,UAAKC,EAAL,aAAR,uBADc,KAGf,cAAC,IAAKK,KAAN,CAAmBC,KAAM,cAACE,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMT,GAAE,UAAKC,EAAL,YAAR,4BADc,Y,gGCpCNU,EAAb,WASC,WAAYC,EACXC,EACAC,EACAC,EACAC,EACAC,GAAmB,yBAbpBL,QAamB,OAZnBC,WAYmB,OAXnBC,iBAWmB,OAVnBC,mBAUmB,OATnBC,eASmB,OARnBC,cAQmB,OAPnBC,YAOmB,EAClBC,OAAOC,eAAeC,KAAMV,EAAQW,WAEpCD,KAAKT,GAAKA,EACVS,KAAKR,MAAQA,EACbQ,KAAKP,YAAcA,EACnBO,KAAKN,cAAgBA,EACrBM,KAAKL,UAAYA,EACjBK,KAAKJ,SAAWA,EAChBI,KAAKH,QAAS,EAvBhB,yCA0BC,WACC,MAAO,CACNL,MAAOQ,KAAKR,MACZC,YAAaO,KAAKP,YAClBC,cAAeM,KAAKN,cACpBC,UAAWK,KAAKL,UAChBC,SAAUI,KAAKJ,SACfC,OAAQG,KAAKH,YAjChB,KCDaK,EAOZ,WAAYX,EAAYY,EAAcC,EAAiBC,EAAcC,GAAgB,yBANrFf,QAMoF,OALpFY,UAKoF,OAJpFC,aAIoF,OAHpFC,UAGoF,OAFpFC,WAEoF,EACnFR,OAAOC,eAAeC,KAAME,EAAOD,WAEnCD,KAAKT,GAAKA,EACVS,KAAKG,KAAOA,EACZH,KAAKI,QAAUA,EACfJ,KAAKK,KAAOA,EACZL,KAAKM,MAAQA,GCZFC,EAAb,WAWC,WACChB,EACAiB,EACAC,EACAC,EACAC,GAAgB,yBAfjBpB,QAegB,OAdhBqB,eAcgB,OAbhBJ,aAagB,OAZhBC,YAYgB,OAXhBC,cAWgB,OAVhBC,WAUgB,OAThBf,SAAW,EASK,KARhBiB,MAAQ,EAQQ,KAPhBC,SAAW,EASVhB,OAAOC,eAAeC,KAAMO,EAAON,WACnCH,OAAOC,eAAeC,MAAM,2CAAWC,WAEvCD,KAAKT,GAAKA,EACVS,KAAKY,UAAY,IAAIG,KACrBf,KAAKQ,QAAUA,EACfR,KAAKS,OAASA,EACdT,KAAKU,SAAWA,EAChBV,KAAKW,MAAQA,EACbX,KAAKJ,SAAW,EAGhBI,KAAKgB,oBACLhB,KAAKiB,iBA/BP,qDAkCC,WACC,IAAIC,EAAY,EAKhB,OAJAlB,KAAKU,SAASS,SAAQ,SAAUC,GAC/BF,GAAaE,EAAEP,SAEhBb,KAAKc,SAAWd,KAAKa,MAAQK,EACtBlB,KAAKc,WAxCd,2BA2CC,SAAcO,GACTC,MAAMD,KACTA,EAAkB,GAEnBrB,KAAKJ,SAAWyB,EAChBrB,KAAKa,MAAQb,KAAKa,OAAS,EAAIQ,EAAkB,OAhDnD,4BAmDC,WAGC,OAFArB,KAAKgB,oBACLhB,KAAKuB,cAAcvB,KAAKJ,UACjBI,KAAKa,UAtDd,KCDaW,EAAb,WAWC,WACCjC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA6B,GACE,yBAlBHA,cAkBE,OAjBFlC,QAiBE,OAhBFC,WAgBE,OAfFC,iBAeE,OAdFC,mBAcE,OAbFC,eAaE,OAZFC,cAYE,OAXFC,YAWE,OAVFgB,WAUE,EACDf,OAAOC,eAAeC,KAAMwB,EAAcvB,WAG1CD,KAAKT,GAAKA,EACVS,KAAKR,MAAQA,EACbQ,KAAKP,YAAcA,EACnBO,KAAKN,cAAgBA,EACrBM,KAAKL,UAAYA,EACjBK,KAAKJ,SAAW,EAChBI,KAAKH,QAAS,EACdG,KAAKyB,SAAWA,EAChBzB,KAAKa,MAAQ,EAEbb,KAAKgB,oBACLhB,KAAKuB,cAAc3B,GAlCrB,qDAqCC,WAGC,OAFAI,KAAKa,MAAQb,KAAKL,UAAYK,KAAKyB,SACnCzB,KAAKuB,cAAcvB,KAAKJ,UACjBI,KAAKa,QAxCd,2BA2CC,SAAcQ,GACbrB,KAAKJ,SAAWyB,EAChBrB,KAAKa,MAAQb,KAAKa,OAAS,EAAIb,KAAKJ,SAAW,OA7CjD,mBAgDC,WACC,MAAO,CACNJ,MAAOQ,KAAKR,MACZC,YAAaO,KAAKP,YAClBC,cAAeM,KAAKN,cACpBC,UAAWK,KAAKL,UAChBC,SAAUI,KAAKJ,SACfC,OAAQG,KAAKH,OACb4B,SAAUzB,KAAKyB,cAxDlB,KCHO,SAASC,EAAkBC,GACjC,IAAMC,EAAOC,aAAaC,QAAQH,IAAkB,GACpD,IACC,IAAKC,EACJ,MAAM,IAAIG,MAAM,iBAEjB,OAAOC,KAAKC,MAAML,GACjB,SACD,OAAO,MAIF,SAASM,EAAiBP,EAAaC,GACzCA,GACHC,aAAaM,QAAQR,EAAKK,KAAKI,UAAUR,ICPpC,IAAMS,EAAkBC,wBAAkC,CAChE5B,SAAU,GACV6B,WAAY,kBAAM,MAClBC,cAAe,kBAAM,MACrBC,YAAa,kBAAM,QAiFLC,EA7EU,SAACtE,GAAe,MAqBRuE,mBAnBhC,WACC,IAAMjC,EAAWgB,EAA0B9C,IAAyB,GAC9DgE,EAAO,GAab,OAZIlC,GACHA,EAASS,SAAQ,SAAC0B,GACjBD,EAAKE,KAAK,IAAIxD,EACbuD,EAAQtD,GACRsD,EAAQrD,MACRqD,EAAQpD,YACRoD,EAAQnD,cACRmD,EAAQlD,UACRkD,EAAQjD,cAIJgD,EAI4CG,IArBZ,mBAqBjCrC,EArBiC,KAqBvBsC,EArBuB,KAuBxCC,qBAAU,WACTf,EAActD,EAAsB8B,KAClC,CAACA,IAEJ,IAoCMkB,EAAO,CACZlB,WACA6B,WAtCkB,SAACW,GACnB,IAAML,EAAmB,IAAIvD,EAC5B6D,OAAKC,UAAUC,WACfH,EAAI1D,MACJ0D,EAAIzD,YACJyD,EAAIxD,cACJwD,EAAIvD,UACJuD,EAAItD,UAGLoD,EAAY,GAAD,mBAAKtC,GAAL,CAAemC,MA6B1BL,cA1BqB,SAACc,GACtB,IAAMC,EAAS7C,EAAS8C,QAAO,SAAApC,GAAC,OAAIA,EAAE7B,KAAO+D,KAC7CN,EAAYO,IAyBZd,YAtBmB,SAACa,EAAmBJ,GAEvC,IAAMO,EAAa/C,EAASgD,WAAU,SAAAtC,GAAC,OAAIA,EAAE7B,KAAO+D,MAEhC,IAAhBG,IAEH/C,EAAS+C,GAAY5D,OAASqD,EAAIrD,OAClCa,EAAS+C,GAAYjE,MAAQ0D,EAAI1D,MACjCkB,EAAS+C,GAAYhE,YAAcyD,EAAIzD,YACvCiB,EAAS+C,GAAY7D,SAAWsD,EAAItD,SACpCc,EAAS+C,GAAY9D,UAAYuD,EAAIvD,UACrCe,EAAS+C,GAAY/D,cAAgBwD,EAAIxD,cAEzCsD,EAAY,YAAItC,OAYlB,OACC,cAAC2B,EAAgBsB,SAAjB,CAA0BC,MAAOhC,EAAjC,SACExD,EAAMyF,YC/EGC,EAAiBxB,wBAAiC,CAC9DyB,QAAS,GACTC,UAAW,kBAAM,MACjBC,aAAc,kBAAM,MACpBC,WAAY,kBAAM,QA8FJC,EA1FS,SAAC/F,GAAe,MAkCTuE,mBAhC9B,WACC,IAAMyB,EAAa1C,EAAyB9C,IAAwB,GAC9DgE,EAAO,GA0Bb,OAzBIwB,GACHA,EAAWjD,SAAQ,SAACkD,GAEnB,IAAIC,EAAoB,GACxBD,EAAO3D,SAASS,SAAQ,SAAC0B,GACxByB,EAAkBxB,KAAK,IAAItB,EAC1BqB,EAAQtD,GACRsD,EAAQrD,MACRqD,EAAQpD,YACRoD,EAAQnD,cACRmD,EAAQlD,UACRkD,EAAQjD,SACRiD,EAAQpB,cAIVmB,EAAKE,KAAK,IAAIvC,EACb8D,EAAO9E,GACP8E,EAAO7D,QACP6D,EAAO5D,OACP6D,EACAD,EAAO1D,WAIHiC,EAIyCG,IAlCV,mBAkChCgB,EAlCgC,KAkCvBQ,EAlCuB,KAoCvCtB,qBAAU,WACTf,EAActD,EAAqBmF,KACjC,CAACA,IAEJ,IAoCMnC,EAAO,CACZmC,UACAC,UAtCiB,SAACd,GAClB,IAAMmB,EAAiB,IAAI9D,EAC1B4C,OAAKC,UAAUC,WACfH,EAAI1C,QACJ0C,EAAIzC,OACJyC,EAAIxC,SACJwC,EAAIvC,OAGL4D,EAAW,GAAD,mBAAKR,GAAL,CAAcM,MA8BxBJ,aA3BoB,SAACO,GACrB,IAAMjB,EAASQ,EAAQP,QAAO,SAAApC,GAAC,OAAIA,EAAE7B,KAAOiF,KAC5CD,EAAWhB,IA0BXW,WAvBkB,SAACM,EAAkBtB,GAErC,IAAMuB,EAAYV,EAAQL,WAAU,SAAAtC,GAAC,OAAIA,EAAE7B,KAAOiF,MAE/B,IAAfC,IAEHV,EAAQU,GAAW7D,UAAYsC,EAAItC,UACnCmD,EAAQU,GAAWjE,QAAU0C,EAAI1C,QACjCuD,EAAQU,GAAWhE,OAASyC,EAAIzC,OAChCsD,EAAQU,GAAW7E,SAAWsD,EAAItD,SAClCmE,EAAQU,GAAW9D,MAAQuC,EAAIvC,MAC/BoD,EAAQU,GAAW/D,SAAWwC,EAAIxC,SAClCqD,EAAQU,GAAW5D,MAAQqC,EAAIrC,MAE/B0D,EAAW,YAAIR,OAYjB,OACC,cAACD,EAAeH,SAAhB,CAAyBC,MAAOhC,EAAhC,SACExD,EAAMyF,YC7FGa,EAAiBpC,wBAAiC,CAC9DqC,QAAS,GACTC,UAAW,kBAAM,MACjBC,aAAc,kBAAM,MACpBC,WAAY,kBAAM,QA2DJC,EAvDS,SAAC3G,GAAgB,IAAD,EAETuE,mBAAmBjB,EAAyB9C,IAAwB,IAF3D,mBAEhC+F,EAFgC,KAEvBK,EAFuB,KAIvC/B,qBAAU,WACTf,EAActD,EAAqB+F,KACjC,CAACA,IAEJ,IAiCM/C,EAAO,CACZ+C,UACAC,UAnCiB,SAAC1B,GAClB,IAAMzC,EAAiB,IAAIP,EAC1BiD,OAAKC,UAAUC,WACfH,EAAI/C,KACJ+C,EAAI5C,MACJ4C,EAAI9C,QACJ8C,EAAI7C,MAGL2E,EAAW,GAAD,mBAAKL,GAAL,CAAclE,MA2BxBoE,aAxBoB,SAACI,GACrB,IAAM1B,EAASoB,EAAQnB,QAAO,SAAApC,GAAC,OAAIA,EAAE7B,KAAO0F,KAC5CD,EAAWzB,IAuBXuB,WApBkB,SAACG,EAAkB/B,GAErC,IAAMgC,EAAYP,EAAQjB,WAAU,SAAAtC,GAAC,OAAIA,EAAE7B,KAAO0F,MAE/B,IAAfC,IAEHP,EAAQO,GAAW/E,KAAO+C,EAAI/C,KAC9BwE,EAAQO,GAAW9E,QAAU8C,EAAI9C,QACjCuE,EAAQO,GAAW7E,KAAO6C,EAAI7C,KAC9BsE,EAAQO,GAAW5E,MAAQ4C,EAAI5C,MAE/B0E,EAAW,YAAIL,OAYjB,OACC,cAACD,EAAef,SAAhB,CAAyBC,MAAOhC,EAAhC,SACExD,EAAMyF,YCvDFsB,EAAYC,IAAZD,QA2EOE,EArEkC,SAACjH,GAAW,IACpDkH,EAAiBlH,EAAjBkH,aADmD,EAEvBC,qBAA+BlD,GAA3D3B,EAFmD,EAEnDA,SAAU8B,EAFyC,EAEzCA,cAsBZgD,EAAU,CACf,CACChG,MAAO,OACPiG,UAAW,SAEZ,CACCjG,MAAO,kBACPiG,UAAW,eAEZ,CACCjG,MAAO,oBACPiG,UAAW,YACXC,OAAQ,SAACC,GAAD,OAAmB,uCAAUA,EAAMC,eAAe,QAAS,CAAEC,sBAAuB,SAE7F,CACCrG,MAAO,cACPmC,IAAK,SACL+D,OAAQ,SAACI,EAAQC,GAAT,OACP,eAAC,IAAD,CAAOC,KAAK,SAAZ,UACC,cAAC,IAAD,CACCC,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACiH,EAAA,EAAD,IACNH,KAAK,SACLI,QAAS,kBA5BE9C,EA4BWyC,EAAOxG,QA3BjC+F,EAAahC,GADC,IAACA,KA6BZ,cAAC,IAAD,CACC2C,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACmH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,WAnDG,IAACvD,EACjBsC,EAAQ,CACP3F,MAAM,iDAAD,QAFWqD,EAmDWkD,GAjDkCvG,MAAxD,KACLN,KAAM,cAACqH,EAAA,EAAD,IACNC,QAAS,iCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KAPO,WAQNpE,EAAcK,EAAQtD,KAEvBsH,SAVO,wBAwDT,OACC,cAAC,IAAD,CACCC,WAAYpG,EACZ8E,QAASA,K,2BC4FGuB,EAzJqC,SAAC,GAAsD,IAApDzD,EAAmD,EAAnDA,UAAW0D,EAAwC,EAAxCA,eAAgBC,EAAwB,EAAxBA,kBAAwB,EAE3D1B,qBAA+BlD,GAArE3B,EAFiG,EAEjGA,SAAU6B,EAFuF,EAEvFA,WAAYE,EAF2E,EAE3EA,YAF2E,EAI1FyE,IAAKC,UAAbC,EAJkG,oBAMzGnE,qBAAU,WACTmE,EAAKC,eAAe,CACnB7H,MAAO,GACPC,YAAa,GACbE,UAAW,EACXD,cAAe,EACfE,SAAU,IAGXwH,EAAKC,eAAeC,OAClB,CAAChE,IAEJ,IAAMgE,EAAuB,WAC5B,IAAMC,EAAc7G,EAAS8G,MAAK,SAAApG,GAAC,OAAIA,EAAE7B,KAAO+D,KAEhD,OAAIiE,EACI,CACN/H,MAAO+H,EAAY/H,MACnBC,YAAa8H,EAAY9H,YACzBE,UAAW4H,EAAY5H,UACvBD,cAAe6H,EAAY7H,cAC3BE,SAAU2H,EAAY3H,UAIjB,IAoCR,OACC,cAAC,IAAD,CACCJ,MAAO8D,EAAY,iBAAmB,gBACtCmE,QAAST,EACTU,OAAQ,KACRb,SAAU,WAAQI,GAAkB,IAJrC,SAOC,eAAC,IAAD,CACCG,KAAMA,EACNjH,KAAK,2BACLwH,OAAO,WACPC,SA7Cc,SAAChG,GAEjB,IAAMiG,EAA0B,CAC/BrI,MAAOoC,EAAKpC,MACZC,YAAamC,EAAKnC,YAClBE,UAAWiC,EAAKjC,UAChBD,cAAekC,EAAKlC,cACpBE,SAAUgC,EAAKhC,SACfC,QAAQ,GAGLyD,EACHb,EAAYa,EAAWuE,GAEvBtF,EAAWsF,GAGZZ,GAAkB,GAClBG,EAAKU,eA4BHC,cAAeT,IACfU,iBAzBsB,CACxBC,SAAU,wBACVC,MAAO,CACN5H,MAAO,iCACP6H,OAAQ,mCAETA,OAAQ,CACPC,MAAO,+CAYP,UAQC,cAAC,IAAKnJ,KAAN,CACCoJ,MAAM,uBACNlI,KAAK,QACLmI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,iCAC3B,CAAEC,IAAK,EAAGC,IAAK,GAAIF,QAAS,+CAL9B,SAQC,cAAC,IAAD,CAAOG,YAAY,sBAGpB,cAAC,IAAKzJ,KAAN,CACCoJ,MAAM,4BACNlI,KAAK,cACLmI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,yCAC3B,CAAEC,IAAK,EAAGC,IAAK,GAAIF,QAAS,uDAL9B,SAQC,cAAC,IAAD,CAAOG,YAAY,uCAIpB,cAAC,IAAD,UACC,eAAC,IAAD,WAEC,cAAC,IAAKzJ,KAAN,CACCoJ,MAAM,+BACNlI,KAAK,gBACLmI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,mCAJ7B,SAOC,cAAC,IAAD,CACCtC,KAAK,SACL0C,YAAY,KACZD,YAAY,+BACZE,KAAK,OACLJ,IAAK,MAIP,cAAC,IAAKvJ,KAAN,CACCoJ,MAAM,+BACNlI,KAAK,YACLmI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,uDAJ7B,SAOC,cAAC,IAAD,CACCtC,KAAK,SACL0C,YAAY,KACZD,YAAY,+BACZE,KAAK,OACLJ,IAAK,WAMT,cAAC,IAAKvJ,KAAN,UACC,cAAC,IAAD,CAAQgH,KAAK,UAAU4C,SAAS,SAAhC,SACEvF,EAAY,SAAW,mB,SCnJtB6B,GAAYC,IAAZD,QAmGO2D,GAjGgC,SAAC1K,GAC/C,IAAM2K,EAAUC,cAERC,EAAgB7K,EAAhB6K,YAHiD,EAIvB1D,qBAA8BzB,GAAxDC,EAJiD,EAIjDA,QAASE,EAJwC,EAIxCA,aAyBXuB,EAAU,CACf,CACChG,MAAO,UACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAOtF,OAAON,SAEvB,CACCX,MAAO,QACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAOtF,OAAOH,UAEvB,CACCd,MAAO,qBACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAO,IAAIhF,KAAKgF,EAAOnF,WAAWsI,mBAAmB,aAEvD,CACC1J,MAAO,gBACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAO,IAAIhF,KAAKgF,EAAOvF,SAAS0I,mBAAmB,aAErD,CACC1J,MAAO,yBACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAOrF,SAASyI,WAEzB,CACC3J,MAAO,QACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,uCAAUA,EAAO9E,iBAAiB2E,eAAe,cAEnD,CACCpG,MAAO,cACPmC,IAAK,SACL+D,OAAQ,SAACI,EAAQC,GAAT,OACP,eAAC,IAAD,CAAOC,KAAK,SAAZ,UACC,cAAC,IAAD,CACCC,KAAK,QACLC,MAAM,SACNhH,KAAM,cAACkK,EAAA,EAAD,IACNpD,KAAK,SACLI,QAAS,kBA7CK5B,EA6CWuB,EAAOxG,QA5CpCwJ,EAAQjG,KAAR,UAAgBlE,EAAhB,wBAA+C4F,IAD9B,IAACA,KA8Cf,cAAC,IAAD,CACCyB,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACiH,EAAA,EAAD,IACNH,KAAK,SACLI,QAAS,kBAvDE5B,EAuDWuB,EAAOxG,QAtDjC0J,EAAYzE,GADE,IAACA,KAwDZ,cAAC,IAAD,CACCyB,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACmH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,kBA7EI/B,EA6EW0B,OA5E5BZ,GAAQ,CACP3F,MAAM,yDACNN,KAAM,cAACqH,EAAA,EAAD,IACNC,QAAS,iCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KAPO,WAQN3C,EAAaI,EAAO9E,KAErBsH,SAVO,eADQ,IAACxC,WAmFlB,OACC,cAAC,IAAD,CACCyC,WAAY/C,EACZyB,QAASA,K,mDChFJ6D,GAAWC,KAAXD,OACAlE,GAAYC,IAAZD,QAoUOoE,GAlUmC,SAAC,GAI5C,IAAD,EAHL/E,EAGK,EAHLA,SACAwC,EAEK,EAFLA,eACAC,EACK,EADLA,kBAEQvG,EAAa6E,qBAA+BlD,GAA5C3B,SADH,EAGJ6E,qBAA8BzB,GADvBC,EAFH,EAEGA,QAASG,EAFZ,EAEYA,WAAYF,EAFxB,EAEwBA,UAErBW,EAAYY,qBAA8Bb,GAA1CC,QAJH,EAMqChC,mBACzC,IAPI,mBAME6G,EANF,KAMiBC,EANjB,OAS+C9G,mBAElD,IAXG,mBASE+G,EATF,KASsBC,EATtB,OAaUzC,IAAKC,UAAbC,EAbF,oBAeLnE,qBAAU,WACT2G,IAEA,IAAMC,EACL9F,EAAQyD,MAAK,SAACsC,GAAD,OAAOA,EAAEvK,KAAOiF,MAAc,GACxCA,GAAYqF,GACfF,EAAsBE,EAAWnJ,UAGlC0G,EAAKC,eAAeC,OAClB,CAAC9C,EAAUwC,IAEd,IAAMM,EAAuB,WAC5B,IAAMuC,EAAa9F,EAAQyD,MAAK,SAACpG,GAAD,OAAOA,EAAE7B,KAAOiF,KAEhD,OAAIqF,EACI,CACNtK,GAAIiF,EACJS,SAAU4E,EAAWpJ,OAAOlB,GAC5BK,SAAUiK,EAAWjK,SACrBY,QAASqJ,EAAWrJ,QACpBI,UAAWiJ,EAAWjJ,UACtBD,MAAOkJ,EAAWlJ,OAIb,CACNpB,GAAI,GACJ0F,SAAU,GACVrF,SAAU,EACVgB,UAAW,IAAIG,KACfP,QAAS,IAAIO,KACbJ,MAAO,KAgDH6E,EAAU,CACf,CACChG,MAAO,OACPiG,UAAW,SAEZ,CACCjG,MAAO,aACPiG,UAAW,YAEZ,CACCjG,MAAO,WACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,iCAAOA,EAAOnG,SAAd,SAGF,CACCJ,MAAO,WACPkG,OAAQ,SAACI,EAAQC,GAAT,OACP,uCAAUA,EAAO/E,yBAGnB,CACCxB,MAAO,cACPmC,IAAK,SACL+D,OAAQ,SAACI,EAAQC,GAAT,OACP,cAAC,IAAD,CAAOC,KAAK,SAAZ,SACC,cAAC,IAAD,CACCC,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACmH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,kBAjDiB9C,EAiDWyC,EAAOxG,QAhDhD4F,GAAQ,CACP3F,MAAM,oDACNN,KAAM,cAACqH,EAAA,EAAD,IACNE,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KANO,WAON,IAAMrD,EAASmG,EAAmBlG,QACjC,SAACpC,GAAD,OAAOA,EAAE7B,KAAO+D,KAEjBqG,EAAsBpG,IAEvBsD,SAZO,eADqB,IAACvD,UAyHzBsG,EAAiB,WACtBxC,EAAKU,cACL2B,EAAiB,IACjBE,EAAsB,KAGvB,OACC,mCACC,cAAC,IAAD,CACCnK,MAAOgF,EAAW,sBAAqB,qBACvCiD,QAAST,EACTU,OAAQ,KACRb,SAAU,WACT+C,IACA3C,GAAkB,IAEnB8C,MAAO,IARR,SAUC,eAAC,IAAD,CACC3C,KAAMA,EACNjH,KAAK,0BACLwH,OAAO,WACPC,SA1Ka,SAAChG,GACjB,IAAMnB,EACLkE,EAAQ6C,MAAK,SAACsC,GAAD,OAAOA,EAAEvK,KAAOqC,EAAKqD,aAAc,GAE3C+E,EAAuB,CAC5BpK,SAAUgC,EAAKhC,SACfY,QAASoB,EAAKpB,QACdG,MAAOiB,EAAKjB,MACZE,MAAOe,EAAKf,MAEZJ,OAAQA,EACRG,UAAW,IAAIG,KACfL,SAAUgJ,GAGPlF,EACHN,EAAWM,EAAUwF,GAErBhG,EAAUgG,GAGXJ,IACA3C,GAAkB,IAqJfc,cAAeT,IALhB,UAOC,cAAC,IAAKrI,KAAN,CAAWoJ,MAAM,oBAAoBlI,KAAK,WAA1C,SACC,cAAC,KAAD,CACC8J,YAAU,EACVvB,YAAY,sBACZwB,iBAAiB,WAHlB,SAKEvF,EAAQwF,KAAI,SAACL,GAAD,OACZ,eAACT,GAAD,CAGCzF,MAAOkG,EAAEvK,GAHV,UAKEuK,EAAE3J,KALJ,MAKa2J,EAAExJ,QAHTwJ,EAAEvK,WASX,uDACA,eAAC,IAAD,CACC6K,UAAU,aACVpE,KAAM,GACNqE,MAAO,CAAEC,aAAc,IAHxB,UAKC,6CACA,cAAC,KAAD,CACCL,YAAU,EACVI,MAAO,CAAEN,MAAO,KAChBrB,YAAY,sBACZwB,iBAAiB,WACjBtG,MAAK,iBAAE4F,QAAF,IAAEA,OAAF,EAAEA,EAAejK,UAAjB,QAAuB,GAC5BgL,SAzHwB,SAAC3G,GAC9B,IAAMf,EAAUnC,EAAS8G,MAAK,SAACpG,GAAD,OAAOA,EAAE7B,KAAOqE,KAE9C,GAAIf,EAAS,CACZ,IAAM2H,EAAmB,IAAIhJ,EAC5BqB,EAAQtD,GACRsD,EAAQrD,MACRqD,EAAQpD,YACRoD,EAAQnD,cACRmD,EAAQlD,UACR,EACA,GAGD8J,EAAiBe,KAqGd,SAQE9J,EAASyJ,KAAI,SAACL,GAAD,OACb,cAACT,GAAD,CAAmBzF,MAAOkG,EAAEvK,GAA5B,SACEuK,EAAEtK,OADSsK,EAAEvK,SAMjB,gDACA,cAAC,KAAD,CACCmJ,YAAY,aACZF,IAAK,EACL5E,MAAO4F,EAAc/H,SACrB8I,SAAU,SAAC3G,GACV6F,EAAiB,6BACbD,GADY,IAEf/H,SAAUmC,QAKb,8CACA,cAAC,KAAD,CACC8E,YAAY,sBACZF,IAAK,EACLC,IAAK,IACL7E,MAAO4F,EAAc5J,SACrB2K,SAAU,SAAC3G,GACG,OAAb4F,QAAa,IAAbA,KAAejI,cAAcqC,GAC7B6F,EAAiB,gBACbD,OAIN,cAAC,IAAD,CAAQvD,KAAK,UAAUG,QA1IG,WAC9B,IAAM3E,EAAWgJ,OAAM,OAACjB,QAAD,IAACA,OAAD,EAACA,EAAe/H,WAAa,EAC9C7B,EAAW6K,OAAM,OAACjB,QAAD,IAACA,OAAD,EAACA,EAAe5J,WAAa,EAEhD8K,EAAS,GAEbhB,EAAmBvI,SAAQ,SAACwJ,GAC3BD,EAAO5H,KACN,IAAItB,EACHmJ,EAAGpL,GACHoL,EAAGnL,MACHmL,EAAGlL,YACHkL,EAAGjL,cACHiL,EAAGhL,UACHgL,EAAG/K,SACH+K,EAAGlJ,cAKN,IAAMmJ,EAAoBF,EAAOhH,WAChC,SAACtC,GAAD,OAAOA,EAAE7B,KAAOiK,EAAcjK,OAGJ,IAAvBqL,GACHF,EAAOE,GAAmBnJ,UAAYA,EACtCiJ,EAAOE,GAAmBhL,UAAYA,GAEtC8K,EAAO5H,KACN,IAAItB,EACHgI,EAAcjK,GACdiK,EAAchK,MACdgK,EAAc/J,YACd+J,EAAc9J,cACd8J,EAAc7J,UACd6J,EAAc5J,SACd4J,EAAc/H,WAKjBkI,EAAsB,GAAD,OAAKe,IAC1BjB,EAAiB,KAgGb,0BAKD,cAAC,IAAD,CAAOjE,QAASA,EAASsB,WAAY4C,IAQrC,cAAC,IAAKzK,KAAN,CAAWoJ,MAAM,oCAAwBlI,KAAK,QAA9C,SACC,cAAC,KAAD,MAGD,cAAC,IAAKlB,KAAN,UACC,cAAC,IAAD,CAAQgH,KAAK,UAAU4C,SAAS,SAAhC,SACErE,EAAW,SAAW,qBC5UtBW,GAAYC,IAAZD,QAkFO0F,GAhFgC,SAACzM,GAAW,IAClD0M,EAAgB1M,EAAhB0M,YADiD,EAEvBvF,qBAA8Bb,GAAxDC,EAFiD,EAEjDA,QAASE,EAFwC,EAExCA,aAqBXW,EAAU,CACf,CACChG,MAAO,UACPnB,WAAY,CAAC,MACbqH,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAO5F,SAEhB,CACCX,MAAO,SACPnB,WAAY,CAAC,MACbqH,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAOzF,UAEhB,CACCd,MAAO,cACPnB,WAAY,CAAC,MACbqH,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAO3F,YAEhB,CACCZ,MAAO,SACPnB,WAAY,CAAC,MACbqH,OAAQ,SAACI,EAAQC,GAAT,OACP,+BAAOA,EAAO1F,SAEhB,CACCb,MAAO,cACPnB,WAAY,CAAC,MACbsD,IAAK,SACL+D,OAAQ,SAACI,EAAQC,GAAT,OACP,eAAC,IAAD,CAAOC,KAAK,SAAZ,UACC,cAAC,IAAD,CACCC,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACiH,EAAA,EAAD,IACNH,KAAK,SACLI,QAAS,kBAxCEnB,EAwCWc,EAAOxG,QAvCjCuL,EAAY7F,GADE,IAACA,KAyCZ,cAAC,IAAD,CACCgB,KAAK,UACLC,MAAM,SACNhH,KAAM,cAACmH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,kBA9DI3F,EA8DWsF,OA7D5BZ,GAAQ,CACP3F,MAAM,oDACNN,KAAM,cAACqH,EAAA,EAAD,IACNC,QAAS,iCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KAPO,WAQN/B,EAAapE,EAAOlB,KAErBsH,SAVO,eADQ,IAACpG,WAoElB,OACC,cAAC,IAAD,CACCqG,WAAYnC,EACZa,QAASA,KC2BGuF,GApGmC,SAAC,GAAqD,IAAnD9F,EAAkD,EAAlDA,SAAU+B,EAAwC,EAAxCA,eAAgBC,EAAwB,EAAxBA,kBAAwB,EACvFC,IAAKC,UAAbC,EAD+F,sBAG3D7B,qBAA8Bb,GAAjEC,EAH8F,EAG9FA,QAASG,EAHqF,EAGrFA,WAAYF,EAHyE,EAGzEA,UAE7B3B,qBAAU,WACTmE,EAAKC,eAAe,CACnB9H,GAAI,GACJY,KAAM,GACNC,QAAS,GACTC,KAAM,GACNC,MAAO,KAGR8G,EAAKC,eAAeC,OAClB,CAACrC,IAEJ,IAgBMqC,EAAuB,WAC5B,IAAM0D,EAAarG,EAAQ6C,MAAK,SAACpG,GAAD,OAAeA,EAAE7B,KAAO0F,KAExD,OAAI+F,EACI,gBACHA,GAIE,IAGR,OACC,mCACC,cAAC,IAAD,CACCxL,MAAOyF,EAAW,iBAAmB,gBACrCwC,QAAST,EACTU,OAAQ,KACRb,SAAU,WAAQI,GAAkB,IAJrC,SAMC,eAAC,IAAD,CACCG,KAAMA,EACNjH,KAAK,0BACLwH,OAAO,WACPC,SAxCa,SAAChG,GAEjB,IAAMqJ,EAAoB,gBACtBrJ,GAGAqD,EACHH,EAAWG,EAAUgG,GAErBrG,EAAUqG,GAGXhE,GAAkB,GAClBG,EAAKU,eA4BFC,cAAeT,IALhB,UAQC,cAAC,IAAKrI,KAAN,CACCoJ,MAAM,OACNlI,KAAK,OAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,CACCoJ,MAAM,SACNlI,KAAK,QAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,CACCoJ,MAAM,iBACNlI,KAAK,UAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,CACCoJ,MAAM,SACNlI,KAAK,OAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,UACC,cAAC,IAAD,CAAQgH,KAAK,UAAU4C,SAAS,SAAhC,SACE5D,EAAW,SAAW,qB,oBC3CfiG,GA3DW,WAAO,IAAD,EACavI,oBAAkB,GAD/B,mBACxBqE,EADwB,KACRC,EADQ,OAECtE,mBAAiB,IAFlB,mBAExB6B,EAFwB,KAEdsG,EAFc,KAIzBK,EAAc,WAA4B,IAA3B1D,EAA0B,wDAC9CR,EAAkBQ,IAQb2D,EAAa,CAClB,CACCC,KAAK,GAAD,OAAKzM,EAAL,KACJ0M,eAAgB,QAEjB,CACCD,KAAK,GAAD,OAAKzM,EAAL,YACJ0M,eAAgB,aAIlB,OACC,qCACC,cAAC,KAAD,CACCzM,UAAU,mBACVW,MAAM,WACN4L,WAAY,CAAEG,OAAQH,GACtBI,SAAS,sBACTC,MAAO,CACN,cAAC,IAAD,CACCxF,KAAK,UACLC,MAAM,QACNhH,KAAM,cAACwM,GAAA,EAAD,IACN1F,KAAK,QACLI,QAAS,WACR0E,EAAY,IACZK,GAAY,IAPd,kCAcF,cAAC,GAAD,CACClG,SAAUT,EACVwC,eAAgBA,EAChBC,kBAAmBkE,IAGpB,cAAC,GAAD,CACCL,YA7CoB,SAACvL,GACvBuL,EAAYvL,GACZ4L,GAAY,UCkDCQ,GA5DW,WAAO,IAAD,EAEahJ,oBAAkB,GAF/B,mBAExBqE,EAFwB,KAERC,EAFQ,OAGCtE,mBAAiB,IAHlB,mBAGxB6B,EAHwB,KAGdyE,EAHc,KAKzBkC,EAAc,WAA4B,IAA3B1D,EAA0B,wDAC9CR,EAAkBQ,IAQb2D,EAAa,CAClB,CACCC,KAAK,GAAD,OAAKzM,EAAL,KACJ0M,eAAgB,QAEjB,CACCD,KAAK,GAAD,OAAKzM,EAAL,YACJ0M,eAAgB,kBAIlB,OACC,qCACC,cAAC,KAAD,CACCzM,UAAU,mBACVW,MAAM,gBACN4L,WAAY,CAAEG,OAAQH,GACtBI,SAAS,uBACTC,MAAO,CACN,cAAC,IAAD,CACCxF,KAAK,UACLC,MAAM,QACNhH,KAAM,cAACwM,GAAA,EAAD,IACN1F,KAAK,QACLI,QAAS,WACR6C,EAAY,IACZkC,GAAY,IAPd,uCAcF,cAAC,GAAD,CACC3G,SAAUA,EACVwC,eAAgBA,EAChBC,kBAAmBkE,IAGpB,cAAC,GAAD,CACClC,YA7CoB,SAAC1J,GACvB0J,EAAY1J,GACZ4L,GAAY,UCgDCS,GA3DY,WAAO,IAAD,EACYjJ,oBAAkB,GAD9B,mBACzBqE,EADyB,KACTC,EADS,OAEEtE,mBAAiB,IAFnB,mBAEzBW,EAFyB,KAEdgC,EAFc,KAI1B6F,EAAc,WAA4B,IAA3B1D,EAA0B,wDAC9CR,EAAkBQ,IAQb2D,EAAa,CAClB,CACCC,KAAK,GAAD,OAAKzM,EAAL,KACJ0M,eAAgB,QAEjB,CACCD,KAAK,GAAD,OAAKzM,EAAL,aACJ0M,eAAgB,aAIlB,OACC,qCACC,cAAC,KAAD,CACCzM,UAAU,mBACVW,MAAM,WACN4L,WAAY,CAAEG,OAAQH,GACtBI,SAAS,uBACTC,MAAO,CACN,cAAC,IAAD,CACCxF,KAAK,UACLC,MAAM,QACNhH,KAAM,cAACwM,GAAA,EAAD,IACN1F,KAAK,QACLI,QAAS,WACRd,EAAa,IACb6F,GAAY,IAPd,kCAcF,cAAC,EAAD,CACC7H,UAAWA,EACX0D,eAAgBA,EAChBC,kBAAmBkE,IAGpB,cAAC,EAAD,CACC7F,aA7CqB,SAAC/F,GACxB+F,EAAa/F,GACb4L,GAAY,UCTCU,GARQ,WACtB,OACC,8BACC,4D,qEC4CYC,GANE,CAChBC,kBAjCsB,yCAAG,WAAOC,EAAsBC,GAA7B,UAAAC,EAAA,+EACzBC,aAAQH,EAAS,CAChBI,UAAW,OAQVC,MAAK,SAACC,GAAD,OAAkBC,aAAUD,MACjCD,MAAK,SAACG,GACN,OAAOA,EAAQC,QAAQ,+BAAgC,QAZhC,2CAAH,wDAkCtBC,UAXc,yCAAG,WAAOpM,GAAP,gBAAA4L,EAAA,4DACL,wCADK,SAEMS,MADX,wCACsB,CACjCC,OAAQ,OACRC,KAAM7K,KAAKI,UAAU,CAAE9B,YAJP,cAEXwM,EAFW,yBAMVA,GAAYA,EAASC,QANX,2CAAH,sDAYdC,wBApB+B,SAAChB,GAA8D,IAAxCiB,EAAuC,uDAApB,UACzEC,aAAQlB,EAAS,CAChBI,UAAW,KACXe,OAAQ,GACRC,SAAS,GAAD,QAAK,IAAIrM,MAAOsM,cAAhB,aAAiC,IAAItM,MAAOuM,WAA5C,aAA0D,IAAIvM,MAAOwM,SAArE,YAAiFN,EAAjF,YC4KKO,GAtLH,WAAO,IACZhJ,EAAaiJ,cAAbjJ,SAEET,EAAYwB,qBAA8BzB,GAA1CC,QAHS,EAMWpB,mBAAiB,IAN5B,mBAMV0B,EANU,KAMFqJ,EANE,KAQjBzK,qBAAU,WACT,IAAM0K,EAAW5J,EAAQyD,MAAK,SAAApG,GAAC,OAAIA,EAAE7B,KAAOiF,KAC5C,GAAImJ,EAAU,CACb,IAAMC,EAAI,IAAIrN,EACboN,EAASpO,GACToO,EAASnN,QACTmN,EAASlN,OACTkN,EAASjN,SACTiN,EAAShN,OAEV+M,EAAUE,MAET,CAACpJ,IAEJ,IAAMqJ,EAAYC,iBAAuB,MACnCC,EAAqBD,iBAAkB,MA4I7C,OACC,qCAvHiB,gCACjB,qBAAKjP,UAAU,aAAf,SACC,cAAC,KAAD,CACCmP,IAAKD,EACL3B,UAAU,OACVgB,SAAQ,sBAAgB,IAAIrM,MAAOsM,eACnCY,OAAO,kBAJR,SAMC,qBAAKD,IAAKH,EAAV,SACC,sBAAKtO,GAAG,WAAR,UACC,sBAAKV,UAAU,aAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,mBAAGA,UAAU,KAAb,SAlEa,mBAmEb,mBAAGA,UAAU,KAAb,SAhEc,kCAiEd,mBAAGA,UAAU,KAAb,SAnEgB,sCAoEhB,mBAAGA,UAAU,KAAb,SAnEa,qBAqEd,qBAAKA,UAAU,mBAAf,SACC,mBAAGA,UAAU,aAAb,+BAIF,sBAAKA,UAAU,mBAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,mBAAGA,UAAU,SAAb,6BACA,mBAAGA,UAAU,SAAb,gBAAuBwF,QAAvB,IAAuBA,GAAvB,UAAuBA,EAAQ5D,cAA/B,aAAuB,EAAgBN,OACvC,mBAAGtB,UAAU,SAAb,gBAAuBwF,QAAvB,IAAuBA,GAAvB,UAAuBA,EAAQ5D,cAA/B,aAAuB,EAAgBH,QACvC,mBAAGzB,UAAU,SAAb,gBAAuBwF,QAAvB,IAAuBA,GAAvB,UAAuBA,EAAQ5D,cAA/B,aAAuB,EAAgBL,UACvC,mBAAGvB,UAAU,SAAb,gBAAuBwF,QAAvB,IAAuBA,GAAvB,UAAuBA,EAAQ5D,cAA/B,aAAuB,EAAgBJ,UAExC,qBAAKxB,UAAU,mBAAf,SACC,wBAAOA,UAAU,KAAjB,UACC,+BACC,oBAAIA,UAAU,UAAd,SACC,mBAAGA,UAAU,SAAb,oCAED,oBAAIA,UAAU,UAAd,SACC,mBAAGA,UAAU,iBAAb,UAAqC,OAANwF,QAAM,IAANA,OAAA,EAAAA,EAAQzD,WAAY,IAAIG,KAAKsD,EAAOzD,WAAWsI,mBAAmB,SAAW,YAG9G,+BACC,oBAAIrK,UAAU,UAAd,SACC,mBAAGA,UAAU,SAAb,gCAED,oBAAIA,UAAU,UAAd,SACC,mBAAGA,UAAU,iBAAb,UAAqC,OAANwF,QAAM,IAANA,OAAA,EAAAA,EAAQ7D,SAAU,IAAIO,KAAKsD,EAAO7D,SAAS0I,mBAAmB,SAAW,wCAO7G,wBAAOrK,UAAU,KAAjB,UACC,gCACC,+BACC,oBAAIA,UAAU,YAAd,6BACA,oBAAIA,UAAU,6BAAd,wBACA,oBAAIA,UAAU,6BAAd,sBACA,oBAAIA,UAAU,6BAAd,wBAGF,uCAEEwF,QAFF,IAEEA,GAFF,UAEEA,EAAQ3D,gBAFV,aAEE,EAAkByJ,KAAI,SAAA/I,GAAC,OACtB,+BACC,oBAAIvC,UAAU,SAAd,SAAwBuC,EAAE5B,QAC1B,oBAAIX,UAAU,0BAAd,SAAyCuC,EAAEK,WAC3C,qBAAI5C,UAAU,0BAAd,gBAA4CuC,EAAEzB,WAAa,KAC3D,qBAAId,UAAU,0BAAd,gBAA4CuC,EAAEP,OAAS,gBAO5D,qBAAKhC,UAAU,eAAf,SACC,wBAAOA,UAAU,KAAjB,UACC,gCACC,+BACC,oBAAIA,UAAU,YAAd,SACC,mBAAGA,UAAU,SAAb,wBAED,oBAAIA,UAAU,aAAd,SACC,oBAAGA,UAAU,iBAAb,gBAAkCwF,EAAOvD,mBAI5C,mCACQ,OAANuD,QAAM,IAANA,OAAA,EAAAA,EAAQzE,UACR,+BACC,oBAAIf,UAAU,SAAd,SACC,mBAAGA,UAAU,SAAb,4BAED,oBAAIA,UAAU,SAAd,SACC,oBAAGA,UAAU,iBAAb,iBAA+BwF,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAQzE,SAAvC,aAGC,uBACJ,qBAAIf,UAAU,YAAd,UACC,oBAAIA,UAAU,SAAd,SACC,mBAAGA,UAAU,SAAb,qBAED,oBAAIA,UAAU,SAAd,SACC,oBAAGA,UAAU,iBAAb,gBAAkCwF,EAAOxD,sBAO9C,mBAAGhC,UAAU,gBAAb,gCACA,mBAAGA,UAAU,YAAb,gBAA0BwF,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAQ1D,iBASpCuN,GACD,cAAC,IAAD,CAAO7D,MAAO,CAAEN,MAAO,OAAQoE,eAAgB,SAAUhB,OAAQ,IAAjE,SACC,cAAC,IAAD,CACClH,KAAK,UACLG,QAlIwB,WAC3B,IAAI4F,EAAU6B,EAAUO,SAAWC,SAASxB,KAE5Cf,GAASkB,wBAAwBhB,GAAe,OAAN3H,QAAM,IAANA,OAAA,EAAAA,EAAQ5D,OAAOH,OAAQ,SA6H/D,yCCrKWgO,GAhBU,WACxB,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOjD,KAAI,UAAKzM,EAAL,KAAyB2P,OAAK,EAACC,UAAW3C,KAErD,cAAC,IAAD,CAAOR,KAAI,UAAKzM,EAAL,aAAiC2P,OAAK,EAACC,UAAW5C,KAE7D,cAAC,IAAD,CAAOP,KAAI,UAAKzM,EAAL,YAAgC2P,OAAK,EAACC,UAAW7C,KAC5D,cAAC,IAAD,CAAON,KAAI,UAAKzM,EAAL,0BAA8C4P,UAAWhB,KACpE,cAAC,IAAD,CAAOnC,KAAI,UAAKzM,EAAL,YAAgC2P,OAAK,EAACC,UAAWtD,KAE5D,cAAC,IAAD,CAAUuD,KAAK,IAAI9P,GAAE,UAAKC,EAAL,W,oBCJhB8P,GAAoBxQ,IAApBwQ,OAAQC,GAAYzQ,IAAZyQ,QAwCDC,OAtCf,WAAgB,IAAD,EACkBjM,oBAAS,GAD3B,mBACPjE,EADO,KACGmQ,EADH,KAGd,OACC,cAAC,IAAD,CAAQ9F,QAASA,EAAjB,SACC,cAAC,EAAD,UACC,cAAC,EAAD,UACC,cAAC,EAAD,UAEC,eAAC,IAAD,CAAQsB,MAAO,CAAEyE,UAAW,SAA5B,UACC,cAAC,EAAD,CAAQpQ,SAAUA,IAClB,eAAC,IAAD,WACC,cAACgQ,GAAD,CAAQrE,MAAO,CAAE0E,QAAS,EAAGC,WAAY,QAAzC,SACEC,IAAMC,cAAcxQ,EAAWyQ,KAAqBC,KAAkB,CACtEvQ,UAAW,UACXuH,QAAS,WAAQyI,GAAanQ,QAGhC,cAACiQ,GAAD,CACCtE,MAAO,CACN8C,OAAQ,YACR4B,QAAS,GACTD,UAAW,IACXE,WAAY,QALd,SAQC,cAAC,GAAD,qB,cCjCTK,IAAS3J,OACR,cAAC,IAAM4J,WAAP,UACC,cAAC,GAAD,MAEDjB,SAASkB,eAAe,W","file":"static/js/main.5fffd9b4.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","const BASE_URL = '/react-orcamento';\r\n\r\nconst PRODUCT_STORE = 'PRODUCT_STORE';\r\nconst BUDGET_STORE = 'BUDGET_STORE';\r\nconst CLIENT_STORE = 'CLIENT_STORE';\r\n\r\nexport default {\r\n\tBASE_URL,\r\n\tPRODUCT_STORE,\r\n\tBUDGET_STORE,\r\n\tCLIENT_STORE,\r\n}","import React from \"react\";\r\nimport { Layout, Menu } from 'antd';\r\n\r\nimport {\r\n\tDashboardOutlined,\r\n\tExceptionOutlined,\r\n\tShoppingOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport './styles.css';\r\nimport { Config } from \"../../configs\";\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Navbar = (props: any) => {\r\n\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tbreakpoint=\"md\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\ttrigger={null}\r\n\t\t\tcollapsible\r\n\t\t\tcollapsed={props.collapse}\r\n\t\t>\r\n\t\t\t<Link to={`${Config.BASE_URL}/`}>\r\n\t\t\t\t<h4 className={!props.collapse ? 'logo' : 'logo-collapse'}>Gerenciador de Orçamento</h4>\r\n\t\t\t</Link>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\r\n\t\t\t\t<Menu.Item key=\"1\" icon={<DashboardOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/`}>Home</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"2\" icon={<ExceptionOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/clients`}>Clientes</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"3\" icon={<ShoppingOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/products`}>Produtos</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"4\" icon={<ExceptionOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/budgets`}>Orçamentos</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import IProduct from '../interfaces/IProduct';\r\nimport { ProductDTO } from './DTOs/ProductDTO';\r\n\r\nexport class Product implements IProduct {\r\n\tid: string;\r\n\ttitle: string;\r\n\tdescription: string;\r\n\tproviderPrice: number;\r\n\tsalePrice: number;\r\n\tdiscount: number;\r\n\tactive: boolean;\r\n\r\n\tconstructor(id: string,\r\n\t\ttitle: string,\r\n\t\tdescription: string,\r\n\t\tproviderPrice: number,\r\n\t\tsalePrice: number,\r\n\t\tdiscount: number) {\r\n\t\tObject.setPrototypeOf(this, Product.prototype);\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t\tthis.providerPrice = providerPrice;\r\n\t\tthis.salePrice = salePrice;\r\n\t\tthis.discount = discount;\r\n\t\tthis.active = true;\r\n\t}\r\n\r\n\ttoDTO() {\r\n\t\treturn {\r\n\t\t\ttitle: this.title,\r\n\t\t\tdescription: this.description,\r\n\t\t\tproviderPrice: this.providerPrice,\r\n\t\t\tsalePrice: this.salePrice,\r\n\t\t\tdiscount: this.discount,\r\n\t\t\tactive: this.active\r\n\t\t} as ProductDTO\r\n\t}\r\n\r\n}\r\n","import IClient from \"../interfaces/IClient\";\r\n\r\nexport class Client {\r\n\tid: string;\r\n\tname: string;\r\n\taddress: string;\r\n\tcity: string;\r\n\temail: string;\r\n\r\n\tconstructor(id: string, name: string, address: string, city: string, email: string) {\r\n\t\tObject.setPrototypeOf(this, Client.prototype);\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.address = address;\r\n\t\tthis.city = city;\r\n\t\tthis.email = email;\r\n\t}\r\n}","import IBudget from \"../interfaces/IBudget\";\r\nimport { Client } from \"./Client\";\r\nimport { ProductBudget } from \"./ProductBudget\";\r\n\r\nexport class Budget implements IBudget {\r\n\tid: string;\r\n\tstartDate: Date;\r\n\tendDate: Date;\r\n\tclient: Client;\r\n\tproducts: ProductBudget[];\r\n\tnotes: string;\r\n\tdiscount = 0;;\r\n\ttotal = 0;\r\n\tsubTotal = 0;\r\n\r\n\tconstructor(\r\n\t\tid: string,\r\n\t\tendDate: Date,\r\n\t\tclient: Client,\r\n\t\tproducts: ProductBudget[],\r\n\t\tnotes: string) {\r\n\r\n\t\tObject.setPrototypeOf(this, Budget.prototype);\r\n\t\tObject.setPrototypeOf(this, new.target.prototype);\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.startDate = new Date();\r\n\t\tthis.endDate = endDate;\r\n\t\tthis.client = client;\r\n\t\tthis.products = products;\r\n\t\tthis.notes = notes;\r\n\t\tthis.discount = 0;\r\n\r\n\t\t// this.applyDiscount(5);\r\n\t\tthis.calculateSubTotal();\r\n\t\tthis.calculateTotal();\r\n\t}\r\n\r\n\tcalculateSubTotal() {\r\n\t\tvar calculate = 0;\r\n\t\tthis.products.forEach(function (p: ProductBudget) {\r\n\t\t\tcalculate += p.total;\r\n\t\t});\r\n\t\tthis.subTotal = this.total = calculate;\r\n\t\treturn this.subTotal;\r\n\t}\r\n\r\n\tapplyDiscount(discountPercent: number) {\r\n\t\tif (isNaN(discountPercent)) {\r\n\t\t\tdiscountPercent = 0;\r\n\t\t}\r\n\t\tthis.discount = discountPercent;\r\n\t\tthis.total = this.total * (1 - discountPercent / 100);\r\n\t}\r\n\r\n\tcalculateTotal() {\r\n\t\tthis.calculateSubTotal();\r\n\t\tthis.applyDiscount(this.discount);\r\n\t\treturn this.total;\r\n\t}\r\n}","import IProductBudget from \"../interfaces/IProductBudget\";\r\nimport { ProductBudgetDTO } from \".\";\r\n\r\nexport class ProductBudget implements IProductBudget {\r\n\tquantity: number;\r\n\tid: string;\r\n\ttitle: string;\r\n\tdescription: string;\r\n\tproviderPrice: number;\r\n\tsalePrice: number;\r\n\tdiscount: number;\r\n\tactive: boolean;\r\n\ttotal: number;\r\n\r\n\tconstructor(\r\n\t\tid: string,\r\n\t\ttitle: string,\r\n\t\tdescription: string,\r\n\t\tproviderPrice: number,\r\n\t\tsalePrice: number,\r\n\t\tdiscount: number,\r\n\t\tquantity: number\r\n\t) {\r\n\t\tObject.setPrototypeOf(this, ProductBudget.prototype);\r\n\t\t// Object.setPrototypeOf(this, new.target.prototype);\r\n\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t\tthis.providerPrice = providerPrice;\r\n\t\tthis.salePrice = salePrice;\r\n\t\tthis.discount = 0;\r\n\t\tthis.active = true;\r\n\t\tthis.quantity = quantity;\r\n\t\tthis.total = 0;\r\n\r\n\t\tthis.calculateSubTotal();\r\n\t\tthis.applyDiscount(discount);\r\n\t}\r\n\r\n\tcalculateSubTotal(): number {\r\n\t\tthis.total = this.salePrice * this.quantity;\r\n\t\tthis.applyDiscount(this.discount);\r\n\t\treturn this.total;\r\n\t}\r\n\r\n\tapplyDiscount(discountPercent: number) {\r\n\t\tthis.discount = discountPercent;\r\n\t\tthis.total = this.total * (1 - this.discount / 100);\r\n\t}\r\n\r\n\ttoDTO() {\r\n\t\treturn {\r\n\t\t\ttitle: this.title,\r\n\t\t\tdescription: this.description,\r\n\t\t\tproviderPrice: this.providerPrice,\r\n\t\t\tsalePrice: this.salePrice,\r\n\t\t\tdiscount: this.discount,\r\n\t\t\tactive: this.active,\r\n\t\t\tquantity: this.quantity,\r\n\t\t} as ProductBudgetDTO;\r\n\t}\r\n}\r\n","export function getFromStorage<T>(key: string): T | null {\r\n\tconst data = localStorage.getItem(key) as string || '';\r\n\ttry {\r\n\t\tif (!data) {\r\n\t\t\tthrow new Error('No data found');\r\n\t\t}\r\n\t\treturn JSON.parse(data) as T;\r\n\t} catch {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport function saveToStorage<T>(key: string, data: any): void {\r\n\tif (data) {\r\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\r\n\t}\r\n}","import { Guid } from 'guid-ts';\r\nimport React, { createContext, useEffect, useState } from 'react'\r\nimport { Config } from '../../configs';\r\nimport { Product, ProductDTO } from '../../models';\r\nimport { getFromStorage, saveToStorage } from '../../services/localStorageService';\r\nimport { ProductContextType } from './ProductContextType';\r\n\r\nexport const ProductsContext = createContext<ProductContextType>({\r\n\tproducts: [],\r\n\taddProduct: () => null,\r\n\tremoveProduct: () => null,\r\n\teditProduct: () => null\r\n});\r\n\r\n\r\nconst ProductsProvider = (props: any) => {\r\n\r\n\tfunction prepareValues() {\r\n\t\tconst products = getFromStorage<Product[]>(Config.PRODUCT_STORE) || [];\r\n\t\tconst temp = [] as Product[];\r\n\t\tif (products) {\r\n\t\t\tproducts.forEach((product: Product) => {\r\n\t\t\t\ttemp.push(new Product(\r\n\t\t\t\t\tproduct.id,\r\n\t\t\t\t\tproduct.title,\r\n\t\t\t\t\tproduct.description,\r\n\t\t\t\t\tproduct.providerPrice,\r\n\t\t\t\t\tproduct.salePrice,\r\n\t\t\t\t\tproduct.discount\r\n\t\t\t\t));\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\r\n\r\n\tconst [products, setProducts] = useState<Product[]>(prepareValues());\r\n\r\n\tuseEffect(() => {\r\n\t\tsaveToStorage(Config.PRODUCT_STORE, products);\r\n\t}, [products])\r\n\r\n\tconst addProduct = (dto: ProductDTO) => {\r\n\t\tconst product: Product = new Product(\r\n\t\t\tGuid.newGuid().toString(),\r\n\t\t\tdto.title,\r\n\t\t\tdto.description,\r\n\t\t\tdto.providerPrice,\r\n\t\t\tdto.salePrice,\r\n\t\t\tdto.discount\r\n\t\t);\r\n\r\n\t\tsetProducts([...products, product]);\r\n\t}\r\n\r\n\tconst removeProduct = (productId: string) => {\r\n\t\tconst result = products.filter(p => p.id !== productId);\r\n\t\tsetProducts(result);\r\n\t}\r\n\r\n\tconst editProduct = (productId: string, dto: ProductDTO) => {\r\n\r\n\t\tconst idxProduct = products.findIndex(p => p.id === productId);\r\n\r\n\t\tif (idxProduct !== -1) {\r\n\r\n\t\t\tproducts[idxProduct].active = dto.active;\r\n\t\t\tproducts[idxProduct].title = dto.title;\r\n\t\t\tproducts[idxProduct].description = dto.description;\r\n\t\t\tproducts[idxProduct].discount = dto.discount;\r\n\t\t\tproducts[idxProduct].salePrice = dto.salePrice;\r\n\t\t\tproducts[idxProduct].providerPrice = dto.providerPrice;\r\n\r\n\t\t\tsetProducts([...products]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst data = {\r\n\t\tproducts,\r\n\t\taddProduct,\r\n\t\tremoveProduct,\r\n\t\teditProduct\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ProductsContext.Provider value={data}>\r\n\t\t\t{props.children}\r\n\t\t</ProductsContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default ProductsProvider;","import React, { createContext, useEffect, useState } from 'react'\r\nimport { Guid } from 'guid-ts';\r\n\r\nimport { BudgetContextType } from './BudgetContextType';\r\nimport { Budget, BudgetDTO, Product, ProductBudget } from '../../models';\r\nimport { getFromStorage, saveToStorage } from '../../services/localStorageService';\r\nimport { Config } from '../../configs';\r\n\r\nexport const BudgetsContext = createContext<BudgetContextType>({\r\n\tbudgets: [],\r\n\taddBudget: () => null,\r\n\tremoveBudget: () => null,\r\n\teditBudget: () => null,\r\n});\r\n\r\n\r\nconst BudgetsProvider = (props: any) => {\r\n\r\n\tfunction prepareValues() {\r\n\t\tconst budgetList = getFromStorage<Budget[]>(Config.BUDGET_STORE) || [];\r\n\t\tconst temp = [] as Budget[];\r\n\t\tif (budgetList) {\r\n\t\t\tbudgetList.forEach((budget: Budget) => {\r\n\r\n\t\t\t\tlet tempProductBudget = [] as ProductBudget[];\r\n\t\t\t\tbudget.products.forEach((product: ProductBudget) => {\r\n\t\t\t\t\ttempProductBudget.push(new ProductBudget(\r\n\t\t\t\t\t\tproduct.id,\r\n\t\t\t\t\t\tproduct.title,\r\n\t\t\t\t\t\tproduct.description,\r\n\t\t\t\t\t\tproduct.providerPrice,\r\n\t\t\t\t\t\tproduct.salePrice,\r\n\t\t\t\t\t\tproduct.discount,\r\n\t\t\t\t\t\tproduct.quantity,\r\n\t\t\t\t\t));\r\n\t\t\t\t});\r\n\r\n\t\t\t\ttemp.push(new Budget(\r\n\t\t\t\t\tbudget.id,\r\n\t\t\t\t\tbudget.endDate,\r\n\t\t\t\t\tbudget.client,\r\n\t\t\t\t\ttempProductBudget,\r\n\t\t\t\t\tbudget.notes\r\n\t\t\t\t));\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\r\n\r\n\tconst [budgets, setBudgets] = useState<Budget[]>(prepareValues());\r\n\r\n\tuseEffect(() => {\r\n\t\tsaveToStorage(Config.BUDGET_STORE, budgets);\r\n\t}, [budgets])\r\n\r\n\tconst addBudget = (dto: BudgetDTO) => {\r\n\t\tconst budget: Budget = new Budget(\r\n\t\t\tGuid.newGuid().toString(),\r\n\t\t\tdto.endDate,\r\n\t\t\tdto.client,\r\n\t\t\tdto.products,\r\n\t\t\tdto.notes\r\n\t\t);\r\n\r\n\t\tsetBudgets([...budgets, budget]);\r\n\t}\r\n\r\n\tconst removeBudget = (budgetId: string) => {\r\n\t\tconst result = budgets.filter(p => p.id !== budgetId);\r\n\t\tsetBudgets(result);\r\n\t}\r\n\r\n\tconst editBudget = (budgetId: string, dto: BudgetDTO) => {\r\n\r\n\t\tconst idxBudget = budgets.findIndex(p => p.id === budgetId);\r\n\r\n\t\tif (idxBudget !== -1) {\r\n\r\n\t\t\tbudgets[idxBudget].startDate = dto.startDate;\r\n\t\t\tbudgets[idxBudget].endDate = dto.endDate;\r\n\t\t\tbudgets[idxBudget].client = dto.client;\r\n\t\t\tbudgets[idxBudget].discount = dto.discount;\r\n\t\t\tbudgets[idxBudget].notes = dto.notes;\r\n\t\t\tbudgets[idxBudget].products = dto.products;\r\n\t\t\tbudgets[idxBudget].total = dto.total;\r\n\r\n\t\t\tsetBudgets([...budgets]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst data = {\r\n\t\tbudgets,\r\n\t\taddBudget,\r\n\t\tremoveBudget,\r\n\t\teditBudget,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<BudgetsContext.Provider value={data}>\r\n\t\t\t{props.children}\r\n\t\t</BudgetsContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default BudgetsProvider;","import React, { createContext, useEffect, useState } from 'react'\r\nimport { Guid } from 'guid-ts';\r\n\r\nimport { ClientContextType } from './ClientContextType';\r\nimport { Client, ClientDTO } from '../../models';\r\nimport { getFromStorage, saveToStorage } from '../../services/localStorageService';\r\nimport { Config } from '../../configs';\r\n\r\nexport const ClientsContext = createContext<ClientContextType>({\r\n\tclients: [],\r\n\taddClient: () => null,\r\n\tremoveClient: () => null,\r\n\teditClient: () => null,\r\n});\r\n\r\n\r\nconst ClientsProvider = (props: any) => {\r\n\r\n\tconst [clients, setClients] = useState<Client[]>(getFromStorage<Client[]>(Config.CLIENT_STORE) || []);\r\n\r\n\tuseEffect(() => {\r\n\t\tsaveToStorage(Config.CLIENT_STORE, clients);\r\n\t}, [clients])\r\n\r\n\tconst addClient = (dto: ClientDTO) => {\r\n\t\tconst client: Client = new Client(\r\n\t\t\tGuid.newGuid().toString(),\r\n\t\t\tdto.name,\r\n\t\t\tdto.email,\r\n\t\t\tdto.address,\r\n\t\t\tdto.city,\r\n\t\t);\r\n\r\n\t\tsetClients([...clients, client]);\r\n\t}\r\n\r\n\tconst removeClient = (clientId: string) => {\r\n\t\tconst result = clients.filter(p => p.id !== clientId);\r\n\t\tsetClients(result);\r\n\t}\r\n\r\n\tconst editClient = (clientId: string, dto: ClientDTO) => {\r\n\r\n\t\tconst idxClient = clients.findIndex(p => p.id === clientId);\r\n\r\n\t\tif (idxClient !== -1) {\r\n\r\n\t\t\tclients[idxClient].name = dto.name;\r\n\t\t\tclients[idxClient].address = dto.address;\r\n\t\t\tclients[idxClient].city = dto.city;\r\n\t\t\tclients[idxClient].email = dto.email;\r\n\r\n\t\t\tsetClients([...clients]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst data = {\r\n\t\tclients,\r\n\t\taddClient,\r\n\t\tremoveClient,\r\n\t\teditClient,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ClientsContext.Provider value={data}>\r\n\t\t\t{props.children}\r\n\t\t</ClientsContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default ClientsProvider;","import React, { useContext } from \"react\";\r\nimport { Modal, Table, Button, Space } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { ProductsContext, ProductContextType } from \"../../contexts\";\r\nimport { Product } from \"../../models\";\r\n\r\nconst { confirm } = Modal;\r\n\r\ninterface ProductListProps {\r\n\tsetProductId: (id: string) => void;\r\n}\r\n\r\nconst ProductsList: React.FC<ProductListProps> = (props) => {\r\n\tconst { setProductId } = props;\r\n\tconst { products, removeProduct } = useContext<ProductContextType>(ProductsContext);\r\n\r\n\tconst onRemove = (product: Product) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover o produto ${product.title}?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Remova só se tiver certeza.',\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveProduct(product.id);\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onEdit = (productId: string) => {\r\n\t\tsetProductId(productId);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Nome',\r\n\t\t\tdataIndex: 'title',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Descrição',\r\n\t\t\tdataIndex: 'description',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Preço de venda',\r\n\t\t\tdataIndex: 'salePrice',\r\n\t\t\trender: (price: number) => <span>R$ {price.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: Product) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onEdit(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemove(record)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tdataSource={products}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ProductsList;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Button, Form, Input, Modal, Row, Space } from \"antd\";\r\n\r\nimport { ProductContextType, ProductsContext } from \"../../contexts\";\r\nimport { Product, ProductDTO } from \"../../models\";\r\n\r\ninterface AddProductForm {\r\n\ttitle: string;\r\n\tdescription: string;\r\n\tsalePrice: number;\r\n\tproviderPrice: number;\r\n\tdiscount: number;\r\n}\r\n\r\ninterface CreateProductProps {\r\n\tproductId?: string;\r\n\tisModalVisible: boolean;\r\n\tsetIsModalVisible: (visible: boolean) => void;\r\n}\r\n\r\nconst CreateProduct: React.FC<CreateProductProps> = ({ productId, isModalVisible, setIsModalVisible }) => {\r\n\r\n\tconst { products, addProduct, editProduct } = useContext<ProductContextType>(ProductsContext);\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tform.setFieldsValue({\r\n\t\t\ttitle: '',\r\n\t\t\tdescription: '',\r\n\t\t\tsalePrice: 0,\r\n\t\t\tproviderPrice: 0,\r\n\t\t\tdiscount: 0,\r\n\t\t} as Product);\r\n\r\n\t\tform.setFieldsValue(prepareInitialValues());\r\n\t}, [productId]);\r\n\r\n\tconst prepareInitialValues = (): Product => {\r\n\t\tconst productBase = products.find(p => p.id === productId);\r\n\r\n\t\tif (productBase) {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: productBase.title,\r\n\t\t\t\tdescription: productBase.description,\r\n\t\t\t\tsalePrice: productBase.salePrice,\r\n\t\t\t\tproviderPrice: productBase.providerPrice,\r\n\t\t\t\tdiscount: productBase.discount,\r\n\t\t\t} as Product;\r\n\t\t}\r\n\r\n\t\treturn {} as Product;\r\n\t}\r\n\r\n\tconst onFinish = (data: AddProductForm): void => {\r\n\r\n\t\tconst newPproduct: ProductDTO = {\r\n\t\t\ttitle: data.title,\r\n\t\t\tdescription: data.description,\r\n\t\t\tsalePrice: data.salePrice,\r\n\t\t\tproviderPrice: data.providerPrice,\r\n\t\t\tdiscount: data.discount,\r\n\t\t\tactive: true,\r\n\t\t}\r\n\r\n\t\tif (productId) {\r\n\t\t\teditProduct(productId, newPproduct);\r\n\t\t} else {\r\n\t\t\taddProduct(newPproduct);\r\n\t\t}\r\n\r\n\t\tsetIsModalVisible(false);\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\r\n\tconst validateMessages = {\r\n\t\trequired: '${label} is required!',\r\n\t\ttypes: {\r\n\t\t\temail: '${label} is not a valid email!',\r\n\t\t\tnumber: '${label} is not a valid number!',\r\n\t\t},\r\n\t\tnumber: {\r\n\t\t\trange: '${label} must be between ${min} and ${max}',\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={productId ? \"Editar Produto\" : \"Criar Produto\"}\r\n\t\t\tvisible={isModalVisible}\r\n\t\t\tfooter={null}\r\n\t\t\tonCancel={() => { setIsModalVisible(false) }}\r\n\t\t>\r\n\r\n\t\t\t<Form\r\n\t\t\t\tform={form}\r\n\t\t\t\tname=\"form-create-edit-product\"\r\n\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\tonFinish={onFinish}\r\n\t\t\t\tinitialValues={prepareInitialValues()}\r\n\t\t\t\tvalidateMessages={validateMessages}\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Título do produto\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: \"Título é obrigatório\" },\r\n\t\t\t\t\t\t{ min: 5, max: 30, message: \"Título deve ter entre 5 e 30 caracteres\" },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Nome do produto\" />\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Descrição do produt\"\r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: \"A descrição é obrigatória\" },\r\n\t\t\t\t\t\t{ min: 5, max: 80, message: \"A descrição deve ter entre 5 e 80 caracteres\" },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Breve descrição do produto\" />\r\n\t\t\t\t</Form.Item>\r\n\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Space>\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Preço de CUSTO do produto\"\r\n\t\t\t\t\t\t\tname=\"providerPrice\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"O preço é obrigatório\" }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\taddonBefore=\"R$\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Preço de custo do produto\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Preço de VENDA do produto\"\r\n\t\t\t\t\t\t\tname=\"salePrice\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"O preço de venda do produto é obrigatório\" }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\taddonBefore=\"R$\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Preço de venda do produto\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t{productId ? \"Editar\" : \"Salvar\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default CreateProduct;\r\n","import React, { useContext } from \"react\";\r\nimport { Modal, Table, Button, Space } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n\tFilePdfOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { Budget } from \"../../models\";\r\nimport { BudgetsContext, BudgetContextType } from \"../../contexts\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Config } from \"../../configs\";\r\n\r\ninterface BudgetListProps {\r\n\tsetBudgetId: (id: string) => void;\r\n}\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst BudgetsList: React.FC<BudgetListProps> = (props) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst { setBudgetId } = props;\r\n\tconst { budgets, removeBudget } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\tconst onRemove = (budget: Budget) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover esse orçamento?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Remova só se tiver certeza.',\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveBudget(budget.id);\r\n\t\t\t},\r\n\t\t\tonCancel() { }\r\n\t\t});\r\n\t};\r\n\r\n\tconst onEdit = (budgetId: string) => {\r\n\t\tsetBudgetId(budgetId);\r\n\t};\r\n\r\n\tconst onSendPdf = (budgetId: string) => {\r\n\t\thistory.push(`${Config.BASE_URL}/budgets/pdf/${budgetId}`);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cliente',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{record.client.name}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'email',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{record.client.email}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Data criação',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{new Date(record.startDate).toLocaleDateString(\"pt-BR\")}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Data validade',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{new Date(record.endDate).toLocaleDateString(\"pt-BR\")}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Quantidade de produtos',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{record.products.length}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Total',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>R$ {record.calculateTotal().toLocaleString(\"pt-BR\")}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: Budget) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"ghost\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<FilePdfOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onSendPdf(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onEdit(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemove(record)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tdataSource={budgets}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default BudgetsList;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Button, Form, InputNumber, Modal, Select, Space, Table } from \"antd\";\r\nimport { DeleteOutlined, ExclamationCircleOutlined } from \"@ant-design/icons\";\r\n\r\nimport {\r\n\tBudgetContextType,\r\n\tBudgetsContext,\r\n\tClientContextType,\r\n\tClientsContext,\r\n\tProductContextType,\r\n\tProductsContext,\r\n} from \"../../contexts\";\r\nimport { Budget, BudgetDTO, Client, ProductBudget } from \"../../models\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\n\r\ninterface AddBudgetForm {\r\n\tid: string;\r\n\tclientId: string;\r\n\tdiscount: number;\r\n\tendDate: Date;\r\n\tstartDate: Date;\r\n\tnotes: string;\r\n\tproducts: ProductBudget[];\r\n\ttotal: number;\r\n}\r\n\r\ninterface CreateBudgetProps {\r\n\tbudgetId?: string;\r\n\tisModalVisible: boolean;\r\n\tsetIsModalVisible: (visible: boolean) => void;\r\n}\r\n\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\n\r\nconst CreateBudget: React.FC<CreateBudgetProps> = ({\r\n\tbudgetId,\r\n\tisModalVisible,\r\n\tsetIsModalVisible,\r\n}) => {\r\n\tconst { products } = useContext<ProductContextType>(ProductsContext);\r\n\tconst { budgets, editBudget, addBudget } =\r\n\t\tuseContext<BudgetContextType>(BudgetsContext);\r\n\tconst { clients } = useContext<ClientContextType>(ClientsContext);\r\n\r\n\tconst [productBudget, setProductBudget] = useState<ProductBudget>(\r\n\t\t{} as ProductBudget\r\n\t);\r\n\tconst [listProductsBudget, setListProductsBudget] = useState<\r\n\t\tProductBudget[]\r\n\t>([]);\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tclearFormModal();\r\n\r\n\t\tconst budgetBase =\r\n\t\t\tbudgets.find((c) => c.id === budgetId) || ({} as Budget);\r\n\t\tif (budgetId && budgetBase) {\r\n\t\t\tsetListProductsBudget(budgetBase.products);\r\n\t\t}\r\n\r\n\t\tform.setFieldsValue(prepareInitialValues());\r\n\t}, [budgetId, isModalVisible]);\r\n\r\n\tconst prepareInitialValues = (): AddBudgetForm => {\r\n\t\tconst budgetBase = budgets.find((p) => p.id === budgetId);\r\n\r\n\t\tif (budgetBase) {\r\n\t\t\treturn {\r\n\t\t\t\tid: budgetId,\r\n\t\t\t\tclientId: budgetBase.client.id,\r\n\t\t\t\tdiscount: budgetBase.discount,\r\n\t\t\t\tendDate: budgetBase.endDate,\r\n\t\t\t\tstartDate: budgetBase.startDate,\r\n\t\t\t\tnotes: budgetBase.notes,\r\n\t\t\t} as AddBudgetForm;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tid: \"\",\r\n\t\t\tclientId: \"\",\r\n\t\t\tdiscount: 0,\r\n\t\t\tstartDate: new Date(),\r\n\t\t\tendDate: new Date(),\r\n\t\t\tnotes: \"\",\r\n\t\t} as AddBudgetForm;\r\n\t};\r\n\r\n\tconst onFinish = (data: AddBudgetForm): void => {\r\n\t\tconst client =\r\n\t\t\tclients.find((c) => c.id === data.clientId) || ({} as Client);\r\n\r\n\t\tconst newBudget: BudgetDTO = {\r\n\t\t\tdiscount: data.discount,\r\n\t\t\tendDate: data.endDate,\r\n\t\t\tnotes: data.notes,\r\n\t\t\ttotal: data.total,\r\n\r\n\t\t\tclient: client,\r\n\t\t\tstartDate: new Date(),\r\n\t\t\tproducts: listProductsBudget,\r\n\t\t};\r\n\r\n\t\tif (budgetId) {\r\n\t\t\teditBudget(budgetId, newBudget);\r\n\t\t} else {\r\n\t\t\taddBudget(newBudget);\r\n\t\t}\r\n\r\n\t\tclearFormModal();\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\r\n\t//#region Table ProdcutsBudgets\r\n\r\n\tconst onRemoveProductBudget = (productId: string) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover esse produto?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: \"Sim\",\r\n\t\t\tokType: \"danger\",\r\n\t\t\tcancelText: \"Não\",\r\n\t\t\tonOk() {\r\n\t\t\t\tconst result = listProductsBudget.filter(\r\n\t\t\t\t\t(p) => p.id !== productId\r\n\t\t\t\t);\r\n\t\t\t\tsetListProductsBudget(result);\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: \"Nome\",\r\n\t\t\tdataIndex: \"title\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Quantidade\",\r\n\t\t\tdataIndex: \"quantity\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Desconto\",\r\n\t\t\trender: (_: any, record: ProductBudget) => (\r\n\t\t\t\t<span>{record.discount}%</span>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"SubTotal\",\r\n\t\t\trender: (_: any, record: ProductBudget) => (\r\n\t\t\t\t<span>R$ {record.calculateSubTotal()}</span>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Ações\",\r\n\t\t\tkey: \"action\",\r\n\t\t\trender: (_: any, record: ProductBudget) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemoveProductBudget(record.id)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\tconst onChangeSelectProduct = (value: string): void => {\r\n\t\tconst product = products.find((p) => p.id === value);\r\n\r\n\t\tif (product) {\r\n\t\t\tconst newProductBudget = new ProductBudget(\r\n\t\t\t\tproduct.id,\r\n\t\t\t\tproduct.title,\r\n\t\t\t\tproduct.description,\r\n\t\t\t\tproduct.providerPrice,\r\n\t\t\t\tproduct.salePrice,\r\n\t\t\t\t0,\r\n\t\t\t\t1\r\n\t\t\t);\r\n\r\n\t\t\tsetProductBudget(newProductBudget);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleAddProductBudget = () => {\r\n\t\tconst quantity = Number(productBudget?.quantity) || 0;\r\n\t\tconst discount = Number(productBudget?.discount) || 0;\r\n\r\n\t\tvar tempPb = [] as ProductBudget[];\r\n\r\n\t\tlistProductsBudget.forEach((pb) => {\r\n\t\t\ttempPb.push(\r\n\t\t\t\tnew ProductBudget(\r\n\t\t\t\t\tpb.id,\r\n\t\t\t\t\tpb.title,\r\n\t\t\t\t\tpb.description,\r\n\t\t\t\t\tpb.providerPrice,\r\n\t\t\t\t\tpb.salePrice,\r\n\t\t\t\t\tpb.discount,\r\n\t\t\t\t\tpb.quantity\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tconst idxProductOnTable = tempPb.findIndex(\r\n\t\t\t(p) => p.id === productBudget.id\r\n\t\t);\r\n\r\n\t\tif (idxProductOnTable !== -1) {\r\n\t\t\ttempPb[idxProductOnTable].quantity += quantity;\r\n\t\t\ttempPb[idxProductOnTable].discount += discount;\r\n\t\t} else {\r\n\t\t\ttempPb.push(\r\n\t\t\t\tnew ProductBudget(\r\n\t\t\t\t\tproductBudget.id,\r\n\t\t\t\t\tproductBudget.title,\r\n\t\t\t\t\tproductBudget.description,\r\n\t\t\t\t\tproductBudget.providerPrice,\r\n\t\t\t\t\tproductBudget.salePrice,\r\n\t\t\t\t\tproductBudget.discount,\r\n\t\t\t\t\tproductBudget.quantity\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetListProductsBudget([...tempPb]);\r\n\t\tsetProductBudget({} as ProductBudget);\r\n\t};\r\n\r\n\t//#endregion\r\n\r\n\tconst clearFormModal = (): void => {\r\n\t\tform.resetFields();\r\n\t\tsetProductBudget({} as ProductBudget);\r\n\t\tsetListProductsBudget([] as ProductBudget[]);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={budgetId ? \"Editar orçamento\" : \"Criar orçamento\"}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tclearFormModal();\r\n\t\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t\t}}\r\n\t\t\t\twidth={1000}\r\n\t\t\t>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tname=\"form-create-edit-budget\"\r\n\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={prepareInitialValues()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item label=\"Adicionar cliente\" name=\"clientId\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\tplaceholder=\"Selecione o cliente\"\r\n\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{clients.map((c) => (\r\n\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t// selec={c.id === (budget.client && budget.client.id)}\r\n\t\t\t\t\t\t\t\t\tkey={c.id}\r\n\t\t\t\t\t\t\t\t\tvalue={c.id}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{c.name} - {c.email}\r\n\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<label>Adicionar Produtos</label>\r\n\t\t\t\t\t<Space\r\n\t\t\t\t\t\tdirection=\"horizontal\"\r\n\t\t\t\t\t\tsize={16}\r\n\t\t\t\t\t\tstyle={{ marginBottom: 16 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>Produto: </span>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Selecione o produto\"\r\n\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t\tvalue={productBudget?.id ?? \"\"}\r\n\t\t\t\t\t\t\tonChange={onChangeSelectProduct}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{products.map((c) => (\r\n\t\t\t\t\t\t\t\t<Option key={c.id} value={c.id}>\r\n\t\t\t\t\t\t\t\t\t{c.title}\r\n\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Select>\r\n\r\n\t\t\t\t\t\t<span>Quantidade: </span>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tplaceholder=\"Quantidade\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tvalue={productBudget.quantity}\r\n\t\t\t\t\t\t\tonChange={(value: number) => {\r\n\t\t\t\t\t\t\t\tsetProductBudget({\r\n\t\t\t\t\t\t\t\t\t...productBudget,\r\n\t\t\t\t\t\t\t\t\tquantity: value,\r\n\t\t\t\t\t\t\t\t} as ProductBudget);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<span>Desconto: </span>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tplaceholder=\"Desconto no produto\"\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tvalue={productBudget.discount}\r\n\t\t\t\t\t\t\tonChange={(value: number) => {\r\n\t\t\t\t\t\t\t\tproductBudget?.applyDiscount(value);\r\n\t\t\t\t\t\t\t\tsetProductBudget({\r\n\t\t\t\t\t\t\t\t\t...productBudget,\r\n\t\t\t\t\t\t\t\t} as ProductBudget);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={handleAddProductBudget}>\r\n\t\t\t\t\t\t\tAdicionar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Space>\r\n\r\n\t\t\t\t\t<Table columns={columns} dataSource={listProductsBudget} />\r\n\r\n\t\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\t\tname=\"endDate\"\r\n\t\t\t\t\t\tlabel=\"Data de validade\">\r\n\t\t\t\t\t\t<DatePicker />\r\n\t\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t\t<Form.Item label=\"Observações/Anotações\" name=\"notes\">\r\n\t\t\t\t\t\t<TextArea />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t{budgetId ? \"Editar\" : \"Salvar\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateBudget;\r\n","import React, { useContext } from \"react\";\r\nimport { Modal, Table, Button, Space } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { Client } from \"../../models\";\r\nimport { ClientContextType, ClientsContext } from \"../../contexts\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\n\r\ninterface ClientListProps {\r\n\tsetClientId: (id: string) => void;\r\n}\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst ClientsList: React.FC<ClientListProps> = (props) => {\r\n\tconst { setClientId } = props;\r\n\tconst { clients, removeClient } = useContext<ClientContextType>(ClientsContext);\r\n\r\n\tconst onRemove = (client: Client) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover esse cliente?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Remova só se tiver certeza.',\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveClient(client.id);\r\n\t\t\t},\r\n\t\t\tonCancel() { }\r\n\t\t});\r\n\t};\r\n\r\n\tconst onEdit = (clientId: string) => {\r\n\t\tsetClientId(clientId);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cliente',\r\n\t\t\tbreakpoint: ['md'],\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.name}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'E-mail',\r\n\t\t\tbreakpoint: ['md'],\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.email}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Endereço',\r\n\t\t\tbreakpoint: ['md'],\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.address}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cidade',\r\n\t\t\tbreakpoint: ['md'],\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.city}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tbreakpoint: ['md'],\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: Client) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onEdit(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemove(record)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tdataSource={clients}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ClientsList;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Button, Form, Input, Modal } from \"antd\";\r\n\r\nimport { ClientContextType, ClientsContext } from \"../../contexts\";\r\nimport { Client, ClientDTO } from \"../../models\";\r\n\r\ninterface AddClientForm {\r\n\tid: string;\r\n\tname: string;\r\n\taddress: string;\r\n\tcity: string;\r\n\temail: string;\r\n}\r\n\r\ninterface CreateClientProps {\r\n\tclientId?: string;\r\n\tisModalVisible: boolean;\r\n\tsetIsModalVisible: (visible: boolean) => void;\r\n}\r\n\r\nconst CreateClient: React.FC<CreateClientProps> = ({ clientId, isModalVisible, setIsModalVisible }) => {\r\n\tconst [form] = Form.useForm();\r\n\r\n\tconst { clients, editClient, addClient } = useContext<ClientContextType>(ClientsContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tid: \"\",\r\n\t\t\tname: \"\",\r\n\t\t\taddress: \"\",\r\n\t\t\tcity: \"\",\r\n\t\t\temail: \"\",\r\n\t\t} as Client);\r\n\r\n\t\tform.setFieldsValue(prepareInitialValues());\r\n\t}, [clientId]);\r\n\r\n\tconst onFinish = (data: AddClientForm): void => {\r\n\r\n\t\tconst newClient: ClientDTO = {\r\n\t\t\t...data,\r\n\t\t}\r\n\r\n\t\tif (clientId) {\r\n\t\t\teditClient(clientId, newClient);\r\n\t\t} else {\r\n\t\t\taddClient(newClient);\r\n\t\t}\r\n\r\n\t\tsetIsModalVisible(false);\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tconst prepareInitialValues = (): Client => {\r\n\t\tconst clientBase = clients.find((p: Client) => p.id === clientId);\r\n\r\n\t\tif (clientBase) {\r\n\t\t\treturn {\r\n\t\t\t\t...clientBase\r\n\t\t\t} as Client;\r\n\t\t}\r\n\r\n\t\treturn {} as Client;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={clientId ? \"Editar cliente\" : \"Criar cliente\"}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tonCancel={() => { setIsModalVisible(false) }}\r\n\t\t\t>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tname=\"form-create-edit-client\"\r\n\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={prepareInitialValues()}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Nome\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"E-mail\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Rua..., numero\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Cidade\"\r\n\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t{clientId ? \"Editar\" : \"Salvar\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\nexport default CreateClient;\r\n","import React, { useState } from \"react\";\r\nimport { Button, PageHeader } from 'antd';\r\nimport {\r\n\tPlusCircleOutlined,\r\n} from '@ant-design/icons'\r\n\r\nimport { ClientsList, CreateClient } from \"../../components\";\r\nimport { Config } from \"../../configs\";\r\n\r\nconst Clients: React.FC = () => {\r\n\tconst [isModalVisible, setIsModalVisible] = useState<boolean>(false);\r\n\tconst [budgetId, setClientId] = useState<string>(\"\");\r\n\r\n\tconst changeModal = (visible = false): void => {\r\n\t\tsetIsModalVisible(visible);\r\n\t};\r\n\r\n\tconst changeClientId = (id: string): void => {\r\n\t\tsetClientId(id)\r\n\t\tchangeModal(true);\r\n\t};\r\n\r\n\tconst breadcrumb = [\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/`,\r\n\t\t\tbreadcrumbName: 'Home',\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/clients`,\r\n\t\t\tbreadcrumbName: 'Clientes',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader\r\n\t\t\t\tclassName=\"site-page-header\"\r\n\t\t\t\ttitle=\"Clientes\"\r\n\t\t\t\tbreadcrumb={{ routes: breadcrumb }}\r\n\t\t\t\tsubTitle=\"Listagem de cliente\"\r\n\t\t\t\textra={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetClientId(\"\");\r\n\t\t\t\t\t\t\tchangeModal(true)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdicionar cliente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t<CreateClient\r\n\t\t\t\tclientId={budgetId}\r\n\t\t\t\tisModalVisible={isModalVisible}\r\n\t\t\t\tsetIsModalVisible={changeModal}\r\n\t\t\t/>\r\n\r\n\t\t\t<ClientsList\r\n\t\t\t\tsetClientId={changeClientId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Clients;\r\n","import React, { useState } from \"react\";\r\nimport { Button, PageHeader } from 'antd';\r\nimport {\r\n\tPlusCircleOutlined,\r\n} from '@ant-design/icons'\r\n\r\nimport { BudgetsList, CreateBudget } from \"../../components\";\r\nimport { Config } from \"../../configs\";\r\n\r\nconst Budgets: React.FC = () => {\r\n\r\n\tconst [isModalVisible, setIsModalVisible] = useState<boolean>(false);\r\n\tconst [budgetId, setBudgetId] = useState<string>(\"\");\r\n\r\n\tconst changeModal = (visible = false): void => {\r\n\t\tsetIsModalVisible(visible);\r\n\t};\r\n\r\n\tconst changeBudgetId = (id: string): void => {\r\n\t\tsetBudgetId(id)\r\n\t\tchangeModal(true);\r\n\t};\r\n\r\n\tconst breadcrumb = [\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/`,\r\n\t\t\tbreadcrumbName: 'Home',\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/budgets`,\r\n\t\t\tbreadcrumbName: 'Orçamentos',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader\r\n\t\t\t\tclassName=\"site-page-header\"\r\n\t\t\t\ttitle=\"Orçamentos\"\r\n\t\t\t\tbreadcrumb={{ routes: breadcrumb }}\r\n\t\t\t\tsubTitle=\"Listagem de produtos\"\r\n\t\t\t\textra={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetBudgetId(\"\");\r\n\t\t\t\t\t\t\tchangeModal(true)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdicionar Orçamento\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t<CreateBudget\r\n\t\t\t\tbudgetId={budgetId}\r\n\t\t\t\tisModalVisible={isModalVisible}\r\n\t\t\t\tsetIsModalVisible={changeModal}\r\n\t\t\t/>\r\n\r\n\t\t\t<BudgetsList\r\n\t\t\t\tsetBudgetId={changeBudgetId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Budgets;\r\n","import React, { useState } from \"react\";\r\nimport { Button, PageHeader } from 'antd';\r\nimport {\r\n\tPlusCircleOutlined,\r\n} from '@ant-design/icons'\r\n\r\nimport { CreateProduct, ProductsList } from \"../../components\";\r\nimport { Config } from \"../../configs\";\r\n\r\nconst Products: React.FC = () => {\r\n\tconst [isModalVisible, setIsModalVisible] = useState<boolean>(false);\r\n\tconst [productId, setProductId] = useState<string>(\"\");\r\n\r\n\tconst changeModal = (visible = false): void => {\r\n\t\tsetIsModalVisible(visible);\r\n\t};\r\n\r\n\tconst changeProductId = (id: string): void => {\r\n\t\tsetProductId(id)\r\n\t\tchangeModal(true);\r\n\t};\r\n\r\n\tconst breadcrumb = [\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/`,\r\n\t\t\tbreadcrumbName: 'Home',\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/products`,\r\n\t\t\tbreadcrumbName: 'Produtos',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader\r\n\t\t\t\tclassName=\"site-page-header\"\r\n\t\t\t\ttitle=\"Produtos\"\r\n\t\t\t\tbreadcrumb={{ routes: breadcrumb }}\r\n\t\t\t\tsubTitle=\"Listagem de produtos\"\r\n\t\t\t\textra={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProductId(\"\");\r\n\t\t\t\t\t\t\tchangeModal(true)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdicionar Produto\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t<CreateProduct\r\n\t\t\t\tproductId={productId}\r\n\t\t\t\tisModalVisible={isModalVisible}\r\n\t\t\t\tsetIsModalVisible={changeModal}\r\n\t\t\t/>\r\n\r\n\t\t\t<ProductsList\r\n\t\t\t\tsetProductId={changeProductId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Products;\r\n","import React from \"react\";\r\n\r\nconst Home: React.FC = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Gerador de Orçamento</h1>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import {\r\n\tdrawDOM,\r\n\texportPDF,\r\n\tDrawOptions,\r\n\tGroup,\r\n} from \"@progress/kendo-drawing\";\r\n\r\nimport { savePDF } from \"@progress/kendo-react-pdf\";\r\n\r\nimport { Email } from '../models';\r\n\r\nconst GenerateBase64Pdf = async (element: HTMLElement, options?: DrawOptions) =>\r\n\tdrawDOM(element, {\r\n\t\tpaperSize: \"A4\",\r\n\t\t// margin: {\r\n\t\t// \tleft: 40,\r\n\t\t// \ttop: 40,\r\n\t\t// \tright: 40,\r\n\t\t// \tbottom: 40,\r\n\t\t// }\r\n\t})\r\n\t\t.then((group: Group) => exportPDF(group))\r\n\t\t.then((dataUri: string) => {\r\n\t\t\treturn dataUri.replace('data:application/pdf;base64,', '');\r\n\t\t});\r\n\r\nconst GenerateFilePdfDownload = (element: HTMLElement, filename: string = 'arquivo'): void => {\r\n\tsavePDF(element, {\r\n\t\tpaperSize: \"A4\",\r\n\t\tmargin: 40,\r\n\t\tfileName: `${new Date().getFullYear()}-${new Date().getMonth()}-${new Date().getDay()}-${filename}.pdf`,\r\n\t});\r\n}\r\n\r\nconst SendToAPI = async (email: Email) => {\r\n\tconst url = 'http://localhost:7071/api/post-budget';\r\n\tconst response = await fetch(url, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ email}),\r\n\t});\r\n\treturn response && response.json();\r\n}\r\n\r\nconst PdfUtils = {\r\n\tGenerateBase64Pdf,\r\n\tSendToAPI,\r\n\tGenerateFilePdfDownload\r\n}\r\n\r\nexport default PdfUtils;","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Button, Space } from \"antd\";\r\nimport { PDFExport } from \"@progress/kendo-react-pdf\";\r\n\r\n\r\nimport './index.css'\r\nimport { PdfUtils } from \"../../Utils\";\r\nimport { Budget, Email } from \"../../models\";\r\nimport { BudgetContextType, BudgetsContext } from \"../../contexts\";\r\n\r\nconst COMPANY_NAME = \"Stevanini Inc.\";\r\nconst COMPANY_ADDRESS = \"Rua Honório Lacerda Filho, 132\";\r\nconst COMPANY_CITY = \"Leopoldina-MG\";\r\nconst COMPANY_EMAIL = \"nao-responda@stevanini.com.br\";\r\n\r\ninterface AddBudgetParams {\r\n\tbudgetId: string;\r\n}\r\n\r\nconst Pdf = () => {\r\n\tlet { budgetId } = useParams<AddBudgetParams>();\r\n\r\n\tconst { budgets } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\r\n\tconst [budget, setBudget] = useState<Budget>({} as Budget);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst lsBudget = budgets.find(p => p.id === budgetId);\r\n\t\tif (lsBudget) {\r\n\t\t\tconst b = new Budget(\r\n\t\t\t\tlsBudget.id,\r\n\t\t\t\tlsBudget.endDate,\r\n\t\t\t\tlsBudget.client,\r\n\t\t\t\tlsBudget.products,\r\n\t\t\t\tlsBudget.notes\r\n\t\t\t)\r\n\t\t\tsetBudget(b);\r\n\t\t}\r\n\t}, [budgetId]);\r\n\r\n\tconst container = useRef<HTMLDivElement>(null);\r\n\tconst pdfExportComponent = useRef<PDFExport>(null);\r\n\r\n\tconst sendPDFInEmail = async () => {\r\n\t\tlet element = container.current || document.body;\r\n\t\tconst pdfBase64 = await PdfUtils.GenerateBase64Pdf(element);\r\n\r\n\t\t//Enviar para API\r\n\t\tconst email = new Email(\r\n\t\t\t\"romulo-gouvea@hotmail.com\",\r\n\t\t\t\"O assunto vindo do post\",\r\n\t\t\tpdfBase64\r\n\t\t);\r\n\r\n\t\tawait PdfUtils.SendToAPI(email);\r\n\t};\r\n\r\n\tconst exportPDFWithMethod = () => {\r\n\t\tlet element = container.current || document.body;\r\n\r\n\t\tPdfUtils.GenerateFilePdfDownload(element, budget?.client.email + \".pdf\");\r\n\t};\r\n\r\n\tconst renderPdf = () => (\r\n\t\t<div className=\"render-pdf\">\r\n\t\t\t<PDFExport\r\n\t\t\t\tref={pdfExportComponent}\r\n\t\t\t\tpaperSize=\"auto\"\r\n\t\t\t\tfileName={`Report for ${new Date().getFullYear()}`}\r\n\t\t\t\tauthor=\"KendoReact Team\"\r\n\t\t\t>\r\n\t\t\t\t<div ref={container}>\r\n\t\t\t\t\t<div id=\"body-pdf\">\r\n\t\t\t\t\t\t<div className=\"header-pdf\">\r\n\t\t\t\t\t\t\t<div className=\"company-info-pdf\">\r\n\t\t\t\t\t\t\t\t<p className=\"p0\">{COMPANY_NAME}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p1\">{COMPANY_EMAIL}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p1\">{COMPANY_ADDRESS}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p1\">{COMPANY_CITY}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"company-info-pdf\">\r\n\t\t\t\t\t\t\t\t<p className=\"p8 p-right\">ORÇAMENTO</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"header-pdf mt-30\">\r\n\t\t\t\t\t\t\t<div className=\"company-info-pdf\">\r\n\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Para o cliente:</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p9 ft1\">{budget?.client?.name}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p9 ft1\">{budget?.client?.email}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p9 ft1\">{budget?.client?.address}</p>\r\n\t\t\t\t\t\t\t\t<p className=\"p9 ft1\">{budget?.client?.city}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"company-info-pdf\">\r\n\t\t\t\t\t\t\t\t<table className=\"t1\">\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"tr1 td0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Data do Orçamento</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"tr1 td1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">{budget?.startDate ? new Date(budget.startDate).toLocaleDateString(\"pt-BR\") : \"--\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"tr2 td0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Válido até</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"tr2 td1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">{budget?.endDate ? new Date(budget.endDate).toLocaleDateString(\"pt-BR\") : \"Sem limite de validade\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<table className=\"t2\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th className=\"t2-header\">Nome do produto</th>\r\n\t\t\t\t\t\t\t\t\t<th className=\"t2-header p-center w-100px\">Quantidade</th>\r\n\t\t\t\t\t\t\t\t\t<th className=\"t2-header p-center w-100px\">Preço</th>\r\n\t\t\t\t\t\t\t\t\t<th className=\"t2-header p-center w-100px\">Total</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tbudget?.products?.map(p => (\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col\">{p.title}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col p-center w-100px\">{p.quantity}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col p-center w-100px\">R$ {p.salePrice || 0}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col p-center w-100px\">R$ {p.total || 0}</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t\t<div className=\"t3-container\">\r\n\t\t\t\t\t\t\t<table className=\"t3\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"t3-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Subtotal</p>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"t3-header \">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">R$ {budget.subTotal}</p>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{budget?.discount ? (\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Descontos(%)</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">{budget?.discount} %</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t) : <tr></tr>}\r\n\t\t\t\t\t\t\t\t\t<tr className=\"t3-footer\">\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">TOTAL</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">RS {budget.total}</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<p className=\"p3 ft2 pdt-30\">Observações:</p>\r\n\t\t\t\t\t\t<p className=\"p1 pdb-30\">{budget?.notes}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</PDFExport >\r\n\t\t</div>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{renderPdf()}\r\n\t\t\t<Space style={{ width: '100%', justifyContent: 'center', margin: 30 }} >\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={exportPDFWithMethod}>\r\n\t\t\t\t\tBaixar arquivo em PDF\r\n\t\t\t\t</Button>\r\n\t\t\t\t{/* <Button\r\n\t\t\t\t\tonClick={sendPDFInEmail}>\r\n\t\t\t\t\tEnviar por email\r\n\t\t\t\t</Button> */}\r\n\t\t\t</Space>\r\n\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Pdf;\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { Budgets, Home, Products, Pdf, Clients } from \"../pages\";\r\nimport { Config } from \"../configs\";\r\n\r\nconst Routes: React.FC = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={`${Config.BASE_URL}/`} exact component={Home} />\r\n\r\n\t\t\t<Route path={`${Config.BASE_URL}/products`} exact component={Products} />\r\n\r\n\t\t\t<Route path={`${Config.BASE_URL}/budgets`} exact component={Budgets} />\r\n\t\t\t<Route path={`${Config.BASE_URL}/budgets/pdf/:budgetId`} component={Pdf} />\r\n\t\t\t<Route path={`${Config.BASE_URL}/clients`} exact component={Clients} />\r\n\r\n\t\t\t<Redirect from=\"*\" to={`${Config.BASE_URL}/`} />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState } from \"react\";\r\nimport { Router } from \"react-router-dom\";\r\nimport history from \"./routes/history\";\r\nimport { Navbar } from \"./components\";\r\nimport { BudgetsProvider, ClientsProvider, ProductsProvider } from \"./contexts\";\r\nimport Routes from \"./routes\";\r\n\r\nimport { Layout } from 'antd';\r\nimport {\r\n\tMenuUnfoldOutlined,\r\n\tMenuFoldOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nfunction App() {\r\n\tconst [collapse, setCollapse] = useState(false);\r\n\r\n\treturn (\r\n\t\t<Router history={history}>\r\n\t\t\t<ClientsProvider>\r\n\t\t\t\t<BudgetsProvider>\r\n\t\t\t\t\t<ProductsProvider>\r\n\r\n\t\t\t\t\t\t<Layout style={{ minHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t<Navbar collapse={collapse} />\r\n\t\t\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t\t\t<Header style={{ padding: 0, background: \"#fff\" }}>\r\n\t\t\t\t\t\t\t\t\t{React.createElement(collapse ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n\t\t\t\t\t\t\t\t\t\tclassName: 'trigger',\r\n\t\t\t\t\t\t\t\t\t\tonClick: () => { setCollapse(!collapse); }\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t<Content\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tmargin: '24px 16px',\r\n\t\t\t\t\t\t\t\t\t\tpadding: 24,\r\n\t\t\t\t\t\t\t\t\t\tminHeight: 280,\r\n\t\t\t\t\t\t\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Routes />\r\n\t\t\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t\t\t</Layout>\r\n\t\t\t\t\t\t</Layout>\r\n\r\n\t\t\t\t\t</ProductsProvider>\r\n\t\t\t\t</BudgetsProvider>\r\n\t\t\t</ClientsProvider>\r\n\t\t</Router >\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport 'antd/dist/antd.css'; // or 'antd/dist/antd.less'\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}