{"version":3,"sources":["routes/history.ts","configs/config.ts","components/Navbar/index.tsx","models/Product.ts","models/Email.ts","models/Client.ts","models/Budget.ts","services/ProductsService.ts","contexts/ProductsContext/ProductsContext.tsx","services/BudgetsService.ts","services/ClientService.ts","contexts/BudgetsContext/BudgetsContext.tsx","components/ProductsList/index.tsx","components/CreateProduct/index.tsx","components/BudgetsList/index.tsx","components/CreateBudget/index.tsx","components/ClientsList/index.tsx","components/CreateClient/index.tsx","pages/Clients/index.tsx","pages/Budgets/index.tsx","pages/Products/index.tsx","pages/Home/index.tsx","Utils/PdfUtils.ts","pages/Pdf/index.tsx","routes/index.tsx","App.tsx","index.tsx"],"names":["createBrowserHistory","Sider","Layout","Navbar","props","trigger","collapsible","collapsed","collapse","to","Config","className","theme","mode","defaultSelectedKeys","Item","icon","DashboardOutlined","ExceptionOutlined","ShoppingOutlined","Product","id","title","description","providerPrice","salePrice","discount","active","this","Email","subject","fileBase64","Client","name","address","city","email","Budget","startDate","endDate","client","products","notes","total","calculate","forEach","p","quantity","discountPercent","calculateSubTotal","applyDiscount","PRODUCT_STORE","getProducts","data","localStorage","getItem","JSON","parse","ProductsContext","createContext","addProduct","removeProduct","editProduct","ProductsProvider","useState","setProducts","useEffect","length","setItem","stringify","saveProducts","dto","product","Guid","newGuid","toString","productId","result","filter","idxProduct","findIndex","Provider","value","children","BUDGET_STORE","getBudgets","temp","b","push","CLIENT_STORE","getClients","BudgetsContext","budgets","addBudget","removeBudget","editBudget","clients","addClient","removeClient","editClient","BudgetsProvider","setBudgets","setClients","saveBudgets","budget","budgetId","idxBudget","clientId","idxClient","confirm","Modal","ProductsList","setProductId","useContext","columns","dataIndex","render","price","toLocaleString","minimumFractionDigits","key","_","record","size","type","shape","EditOutlined","onClick","DeleteOutlined","danger","ExclamationCircleOutlined","content","okText","okType","cancelText","onOk","onCancel","dataSource","CreateProduct","isModalVisible","setIsModalVisible","Form","useForm","form","setFieldsValue","prepareInitialValues","productBase","find","visible","footer","layout","onFinish","newPproduct","resetFields","initialValues","validateMessages","required","types","number","range","label","rules","message","min","max","placeholder","addonBefore","step","htmlType","BudgetsList","history","useHistory","setBudgetId","Date","toLocaleDateString","FilePdfOutlined","Option","Select","CreateBudget","productBudget","setProductBudget","listProductsBudget","setListProductsBudget","clearFormModal","budg","c","budgetBase","width","newBudget","showSearch","optionFilterProp","map","direction","style","marginBottom","onChange","Number","idxProductOnTable","ClientsList","setClientId","CreateClient","clientBase","newClient","Clients","changeModal","breadcrumb","path","breadcrumbName","routes","subTitle","extra","PlusCircleOutlined","Budgets","Products","Home","PdfUtils","GenerateBase64Pdf","element","options","a","drawDOM","paperSize","margin","left","top","right","bottom","then","group","exportPDF","dataUri","replace","SendToAPI","fetch","method","body","response","json","GenerateFilePdfDownload","filename","savePDF","fileName","getFullYear","getMonth","getDay","Pdf","useParams","setBudget","lsBudget","container","useRef","pdfExportComponent","sendPDFInEmail","current","document","pdfBase64","ref","author","renderPdf","Routes","exact","component","from","Header","Content","App","setCollapse","minHeight","padding","background","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","ReactDOM","StrictMode","getElementById"],"mappings":"gQAEeA,gB,oDCAA,G,OAFE,oB,OCcTC,EAAUC,IAAVD,MA2BOE,EAzBA,SAACC,GAEf,OACC,eAACH,EAAD,CAAOI,QAAS,KAAMC,aAAW,EAACC,UAAWH,EAAMI,SAAnD,UACC,cAAC,IAAD,CAAMC,GAAE,UAAKC,EAAL,KAAR,SACC,oBAAIC,UAAYP,EAAMI,SAAoB,gBAAT,OAAjC,2CAED,eAAC,IAAD,CAAMI,MAAM,OAAOC,KAAK,SAASC,oBAAqB,CAAC,KAAvD,UACC,cAAC,IAAKC,KAAN,CAAmBC,KAAM,cAACC,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMR,GAAE,UAAKC,EAAL,KAAR,mBADc,KAGf,cAAC,IAAKK,KAAN,CAAmBC,KAAM,cAACE,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMT,GAAE,UAAKC,EAAL,YAAR,uBADc,KAGf,cAAC,IAAKK,KAAN,CAAmBC,KAAM,cAACG,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMV,GAAE,UAAKC,EAAL,aAAR,uBADc,KAGf,cAAC,IAAKK,KAAN,CAAmBC,KAAM,cAACE,EAAA,EAAD,IAAzB,SACC,cAAC,IAAD,CAAMT,GAAE,UAAKC,EAAL,YAAR,4BADc,Y,gGC7BNU,EAAb,WACC,WACQC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACL,yBAPKN,KAON,KANMC,QAMN,KALMC,cAKN,KAJMC,gBAIN,KAHMC,YAGN,KAFMC,WAEN,KADMC,SART,yCAWC,WACC,MAAO,CACNL,MAAOM,KAAKN,MACZC,YAAaK,KAAKL,YAClBC,cAAeI,KAAKJ,cACpBC,UAAWG,KAAKH,UAChBC,SAAUE,KAAKF,SACfC,OAAQC,KAAKD,YAlBhB,KCJaE,EACZ,WACQpB,EACAqB,EACAC,GACL,yBAHKtB,KAGN,KAFMqB,UAEN,KADMC,cCJIC,EACZ,WACQX,EACAY,EACAC,EACAC,EACAC,GACL,yBALKf,KAKN,KAJMY,OAIN,KAHMC,UAGN,KAFMC,OAEN,KADMC,SCHIC,EAAb,WACC,WACQhB,EACAiB,EACAC,EACAC,EACAC,EACAC,EACAhB,EACAiB,GACL,yBARKtB,KAQN,KAPMiB,YAON,KANMC,UAMN,KALMC,SAKN,KAJMC,WAIN,KAHMC,QAGN,KAFMhB,WAEN,KADMiB,QATT,qDAYC,WACC,IAAIC,EAAY,EAChBhB,KAAKa,SAASI,SAAQ,SAAUC,GAC/BF,GAAcE,EAAErB,UAAYqB,EAAEC,YAE/BnB,KAAKe,MAAQC,IAjBf,2BAoBC,SAAqBI,GACpBpB,KAAKF,SAAWsB,EAChBpB,KAAKe,MAAQf,KAAKe,OAAS,EAAIK,EAAkB,OAtBnD,4BAyBC,WACCpB,KAAKqB,oBACLrB,KAAKsB,cAActB,KAAKF,cA3B1B,KCDMyB,G,cAAgB,iBAETC,EAAc,WAC1B,IAAMC,EAAOC,aAAaC,QAAQJ,IAAkB,GACpD,IACC,OAAOK,KAAKC,MAAMJ,GACjB,SACD,MAAO,KCHIK,EAAkBC,wBAAkC,CAChElB,SAAU,GACVmB,WAAY,kBAAM,MAClBC,cAAe,kBAAM,MACrBC,YAAa,kBAAM,QA+DLC,EA3DU,SAAC3D,GAAgB,IAAD,EAER4D,mBAAoBZ,GAFZ,mBAEjCX,EAFiC,KAEvBwB,EAFuB,KAIxCC,qBAAU,YDLiB,SAACb,IACpB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMc,QAAS,GAClBb,aAAac,QAAQjB,EAAeK,KAAKa,UAAUhB,ICInDiB,CAAa7B,KACX,CAACA,IAEJ,IAqCMY,EAAO,CACZZ,WACAmB,WAvCkB,SAACW,GACnB,IAAMC,EAAmB,IAAIpD,EAC5BqD,OAAKC,UAAUC,WACfJ,EAAIjD,MACJiD,EAAIhD,YACJgD,EAAI/C,cACJ+C,EAAI9C,UACJ8C,EAAI7C,UACJ,GAGDuC,EAAY,GAAD,mBAAKxB,GAAL,CAAe+B,MA6B1BX,cA1BqB,SAACe,GACtB,IAAMC,EAASpC,EAASqC,QAAO,SAAAhC,GAAC,OAAIA,EAAEzB,KAAOuD,KAC7CX,EAAYY,IAyBZf,YAtBmB,SAACc,EAAmBL,GAEvC,IAAMQ,EAAatC,EAASuC,WAAU,SAAAlC,GAAC,OAAIA,EAAEzB,KAAOuD,MAEhC,IAAhBG,IAEHtC,EAASsC,GAAYpD,OAAS4C,EAAI5C,OAClCc,EAASsC,GAAYzD,MAAQiD,EAAIjD,MACjCmB,EAASsC,GAAYxD,YAAcgD,EAAIhD,YACvCkB,EAASsC,GAAYrD,SAAW6C,EAAI7C,SACpCe,EAASsC,GAAYtD,UAAY8C,EAAI9C,UACrCgB,EAASsC,GAAYvD,cAAgB+C,EAAI/C,cAEzCyC,EAAY,YAAIxB,OAYlB,OACC,cAACiB,EAAgBuB,SAAjB,CAA0BC,MAAO7B,EAAjC,SACEjD,EAAM+E,Y,SClEJC,EAAe,eAERC,EAAa,WACzB,IAAMhC,EAAOC,aAAaC,QAAQ6B,IAAiB,GACnD,IACC,IADG,EACGE,EAAO9B,KAAKC,MAAMJ,GACpBwB,EAAmB,GAFpB,cAGWS,GAHX,IAGH,2BAAoB,CAAC,IAAZC,EAAW,QACnBV,EAAOW,KAAK,IAAInD,EACfkD,EAAElE,GACFkE,EAAEjD,UACFiD,EAAEhD,QACFgD,EAAE/C,OACF+C,EAAE9C,SACF8C,EAAE7C,MACF6C,EAAE7D,SACF6D,EAAE5C,SAZD,8BAeH,OAAOkC,EACN,SACD,MAAO,KCrBHY,EAAe,eAERC,EAAa,WACzB,IAAMrC,EAAOC,aAAaC,QAAQkC,IAAiB,GACnD,IACC,IADG,EACGH,EAAO9B,KAAKC,MAAMJ,GACpBwB,EAAmB,GAFpB,cAGWS,GAHX,IAGH,2BAAoB,CAAC,IAAZC,EAAW,QACnBV,EAAOW,KAAK,IAAIxD,EACfuD,EAAElE,GACFkE,EAAEtD,KACFsD,EAAErD,QACFqD,EAAEpD,KACFoD,EAAEnD,SATD,8BAYH,OAAOyC,EACN,SACD,MAAO,KCZIc,EAAiBhC,wBAAiC,CAC9DiC,QAAS,GACTC,UAAW,kBAAM,MACjBC,aAAc,kBAAM,MACpBC,WAAY,kBAAM,MAElBC,QAAS,GACTC,UAAW,kBAAM,MACjBC,aAAc,kBAAM,MACpBC,WAAY,kBAAM,QAgHJC,EA5GS,SAAChG,GAAgB,IAAD,EAET4D,mBAAmBqB,GAFV,mBAEhCO,EAFgC,KAEvBS,EAFuB,OAGTrC,mBAAmB0B,GAHV,mBAGhCM,EAHgC,KAGvBM,EAHuB,KAKvCpC,qBAAU,WACToC,EAAWN,KACT,CAACA,IAEJ9B,qBAAU,YFHgB,SAACb,IACnB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMc,QAAS,GAClBb,aAAac,QAAQgB,EAAc5B,KAAKa,UAAUhB,IEElDkD,CAAYX,KACV,CAACA,IAGJ,IA2EMvC,EAAO,CACZuC,UACAC,UA7EiB,SAACtB,GAClB,IAAMiC,EAAiB,IAAInE,EAC1BoC,OAAKC,UAAUC,WACfJ,EAAIjC,UACJiC,EAAIhC,QACJgC,EAAI/B,OACJ+B,EAAI9B,SACJ8B,EAAI7B,MACJ6B,EAAI7C,SACJ6C,EAAI5B,OAGL0D,EAAW,GAAD,mBAAKT,GAAL,CAAcY,MAkExBV,aA/DoB,SAACW,GACrB,IAAM5B,EAASe,EAAQd,QAAO,SAAAhC,GAAC,OAAIA,EAAEzB,KAAOoF,KAC5CJ,EAAWxB,IA8DXkB,WA3DkB,SAACU,EAAkBlC,GAErC,IAAMmC,EAAYd,EAAQZ,WAAU,SAAAlC,GAAC,OAAIA,EAAEzB,KAAOoF,MAE/B,IAAfC,IAEHd,EAAQc,GAAWpE,UAAYiC,EAAIjC,UACnCsD,EAAQc,GAAWnE,QAAUgC,EAAIhC,QACjCqD,EAAQc,GAAWlE,OAAS+B,EAAI/B,OAChCoD,EAAQc,GAAWhF,SAAW6C,EAAI7C,SAClCkE,EAAQc,GAAWhE,MAAQ6B,EAAI7B,MAC/BkD,EAAQc,GAAWjE,SAAW8B,EAAI9B,SAClCmD,EAAQc,GAAW/D,MAAQ4B,EAAI5B,MAE/B0D,EAAW,YAAIT,MA+ChBI,UACAC,UAzCiB,SAAC1B,GAClB,IAAM/B,EAAiB,IAAIR,EAC1ByC,OAAKC,UAAUC,WACfJ,EAAItC,KACJsC,EAAIrC,QACJqC,EAAIpC,KACJoC,EAAInC,OAGLkE,EAAW,GAAD,mBAAKN,GAAL,CAAcxD,MAiCxB0D,aA9BoB,SAACS,GACrB,IAAM9B,EAASmB,EAAQlB,QAAO,SAAAhC,GAAC,OAAIA,EAAEzB,KAAOsF,KAC5CL,EAAWzB,IA6BXsB,WA1BkB,SAACQ,EAAkBpC,GAErC,IAAMqC,EAAYZ,EAAQhB,WAAU,SAAAlC,GAAC,OAAIA,EAAEzB,KAAOsF,MAE/B,IAAfC,IAEHZ,EAAQY,GAAW3E,KAAOsC,EAAItC,KAC9B+D,EAAQY,GAAW1E,QAAUqC,EAAIrC,QACjC8D,EAAQY,GAAWzE,KAAOoC,EAAIpC,KAC9B6D,EAAQY,GAAWxE,MAAQmC,EAAInC,MAE/BkE,EAAW,YAAIN,OAkBjB,OACC,cAACL,EAAeV,SAAhB,CAAyBC,MAAO7B,EAAhC,SACEjD,EAAM+E,YCjHF0B,EAAYC,IAAZD,QA2EOE,EArEkC,SAAC3G,GAAW,IACpD4G,EAAiB5G,EAAjB4G,aADmD,EAEvBC,qBAA+BvD,GAA3DjB,EAFmD,EAEnDA,SAAUoB,EAFyC,EAEzCA,cAsBZqD,EAAU,CACf,CACC5F,MAAO,OACP6F,UAAW,SAEZ,CACC7F,MAAO,kBACP6F,UAAW,eAEZ,CACC7F,MAAO,oBACP6F,UAAW,YACXC,OAAQ,SAACC,GAAD,OAAmB,uCAAUA,EAAMC,eAAe,QAAS,CAAEC,sBAAuB,SAE7F,CACCjG,MAAO,cACPkG,IAAK,SACLJ,OAAQ,SAACK,EAAQC,GAAT,OACP,eAAC,IAAD,CAAOC,KAAK,SAAZ,UACC,cAAC,IAAD,CACCC,KAAK,UACLC,MAAM,SACN7G,KAAM,cAAC8G,EAAA,EAAD,IACNH,KAAK,SACLI,QAAS,kBA5BEnD,EA4BW8C,EAAOrG,QA3BjC2F,EAAapC,GADC,IAACA,KA6BZ,cAAC,IAAD,CACCgD,KAAK,UACLC,MAAM,SACN7G,KAAM,cAACgH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,WAnDG,IAACvD,EACjBqC,EAAQ,CACPvF,MAAM,iDAAD,QAFWkD,EAmDWkD,GAjDkCpG,MAAxD,KACLN,KAAM,cAACkH,EAAA,EAAD,IACNC,QAAS,iCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KAPO,WAQN1E,EAAcW,EAAQnD,KAEvBmH,SAVO,wBAwDT,OACC,cAAC,IAAD,CACCC,WAAYhG,EACZyE,QAASA,K,2BC4FGwB,EAzJqC,SAAC,GAAsD,IAApD9D,EAAmD,EAAnDA,UAAW+D,EAAwC,EAAxCA,eAAgBC,EAAwB,EAAxBA,kBAAwB,EAE3D3B,qBAA+BvD,GAArEjB,EAFiG,EAEjGA,SAAUmB,EAFuF,EAEvFA,WAAYE,EAF2E,EAE3EA,YAF2E,EAI1F+E,IAAKC,UAAbC,EAJkG,oBAMzG7E,qBAAU,WACT6E,EAAKC,eAAe,CACnB1H,MAAO,GACPC,YAAa,GACbE,UAAW,EACXD,cAAe,EACfE,SAAU,IAGXqH,EAAKC,eAAeC,OAClB,CAACrE,IAEJ,IAAMqE,EAAuB,WAC5B,IAAMC,EAAczG,EAAS0G,MAAK,SAAArG,GAAC,OAAIA,EAAEzB,KAAOuD,KAEhD,OAAIsE,EACI,CACN5H,MAAO4H,EAAY5H,MACnBC,YAAa2H,EAAY3H,YACzBE,UAAWyH,EAAYzH,UACvBD,cAAe0H,EAAY1H,cAC3BE,SAAUwH,EAAYxH,UAIjB,IAoCR,OACC,cAAC,IAAD,CACCJ,MAAOsD,EAAY,iBAAmB,gBACtCwE,QAAST,EACTU,OAAQ,KACRb,SAAU,WAAQI,GAAkB,IAJrC,SAOC,eAAC,IAAD,CACCG,KAAMA,EACN9G,KAAK,2BACLqH,OAAO,WACPC,SA7Cc,SAAClG,GAEjB,IAAMmG,EAA0B,CAC/BlI,MAAO+B,EAAK/B,MACZC,YAAa8B,EAAK9B,YAClBE,UAAW4B,EAAK5B,UAChBD,cAAe6B,EAAK7B,cACpBE,SAAU2B,EAAK3B,SACfC,QAAQ,GAGLiD,EACHd,EAAYc,EAAW4E,GAEvB5F,EAAW4F,GAGZZ,GAAkB,GAClBG,EAAKU,eA4BHC,cAAeT,IACfU,iBAzBsB,CACxBC,SAAU,wBACVC,MAAO,CACNzH,MAAO,iCACP0H,OAAQ,mCAETA,OAAQ,CACPC,MAAO,+CAYP,UAQC,cAAC,IAAKhJ,KAAN,CACCiJ,MAAM,uBACN/H,KAAK,QACLgI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,iCAC3B,CAAEC,IAAK,EAAGC,IAAK,GAAIF,QAAS,+CAL9B,SAQC,cAAC,IAAD,CAAOG,YAAY,sBAGpB,cAAC,IAAKtJ,KAAN,CACCiJ,MAAM,4BACN/H,KAAK,cACLgI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,yCAC3B,CAAEC,IAAK,EAAGC,IAAK,GAAIF,QAAS,uDAL9B,SAQC,cAAC,IAAD,CAAOG,YAAY,uCAIpB,cAAC,IAAD,UACC,eAAC,IAAD,WAEC,cAAC,IAAKtJ,KAAN,CACCiJ,MAAM,+BACN/H,KAAK,gBACLgI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,mCAJ7B,SAOC,cAAC,IAAD,CACCtC,KAAK,SACL0C,YAAY,KACZD,YAAY,+BACZE,KAAK,OACLJ,IAAK,MAIP,cAAC,IAAKpJ,KAAN,CACCiJ,MAAM,+BACN/H,KAAK,YACLgI,MAAO,CACN,CAAEL,UAAU,EAAMM,QAAS,uDAJ7B,SAOC,cAAC,IAAD,CACCtC,KAAK,SACL0C,YAAY,KACZD,YAAY,+BACZE,KAAK,OACLJ,IAAK,WAMT,cAAC,IAAKpJ,KAAN,UACC,cAAC,IAAD,CAAQ6G,KAAK,UAAU4C,SAAS,SAAhC,SACE5F,EAAY,SAAW,mB,SCnJtBiC,GAAYC,IAAZD,QAmGO4D,GAjGgC,SAACrK,GAC/C,IAAMsK,EAAUC,cAERC,EAAgBxK,EAAhBwK,YAHiD,EAIvB3D,qBAA8BtB,GAAxDC,EAJiD,EAIjDA,QAASE,EAJwC,EAIxCA,aAyBXoB,EAAU,CACf,CACC5F,MAAO,UACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOlF,OAAOP,SAEvB,CACCX,MAAO,QACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOlF,OAAOJ,UAEvB,CACCd,MAAO,qBACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAO,IAAImD,KAAKnD,EAAOpF,WAAWwI,mBAAmB,aAEvD,CACCxJ,MAAO,gBACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAO,IAAImD,KAAKnD,EAAOnF,SAASuI,mBAAmB,aAErD,CACCxJ,MAAO,yBACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOjF,SAAS0B,WAEzB,CACC7C,MAAO,QACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,uCAAUA,EAAO/E,OAAS+E,EAAO/E,MAAM2E,eAAe,cAExD,CACChG,MAAO,cACPkG,IAAK,SACLJ,OAAQ,SAACK,EAAQC,GAAT,OACP,eAAC,IAAD,CAAOC,KAAK,SAAZ,UACC,cAAC,IAAD,CACCC,KAAK,QACLC,MAAM,SACN7G,KAAM,cAAC+J,EAAA,EAAD,IACNpD,KAAK,SACLI,QAAS,kBA7CKtB,EA6CWiB,EAAOrG,QA5CpCqJ,EAAQlF,KAAR,UAAgB9E,EAAhB,wBAA+C+F,IAD9B,IAACA,KA8Cf,cAAC,IAAD,CACCmB,KAAK,UACLC,MAAM,SACN7G,KAAM,cAAC8G,EAAA,EAAD,IACNH,KAAK,SACLI,QAAS,kBAvDEtB,EAuDWiB,EAAOrG,QAtDjCuJ,EAAYnE,GADE,IAACA,KAwDZ,cAAC,IAAD,CACCmB,KAAK,UACLC,MAAM,SACN7G,KAAM,cAACgH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,kBA7EIvB,EA6EWkB,OA5E5Bb,GAAQ,CACPvF,MAAM,yDACNN,KAAM,cAACkH,EAAA,EAAD,IACNC,QAAS,iCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KAPO,WAQNzC,EAAaU,EAAOnF,KAErBmH,SAVO,eADQ,IAAChC,WAmFlB,OACC,cAAC,IAAD,CACCiC,WAAY7C,EACZsB,QAASA,K,kDCpFJ8D,GAAWC,KAAXD,OACAnE,GAAYC,IAAZD,QA4ROqE,GA1RmC,SAAC,GAAqD,IAAD,EAAlDzE,EAAkD,EAAlDA,SAAUkC,EAAwC,EAAxCA,eAAgBC,EAAwB,EAAxBA,kBAEtEnG,EAAawE,qBAA+BvD,GAA5CjB,SAF8F,EAG3DwE,qBAA8BtB,GAAjEC,EAH8F,EAG9FA,QAASG,EAHqF,EAGrFA,WAAYF,EAHyE,EAGzEA,UACrBG,EAAYiB,qBAA8BtB,GAA1CK,QAJ8F,EAM5DhC,mBAAwB,IANoC,mBAM/FmH,EAN+F,KAMhFC,EANgF,OAOlDpH,mBAA0B,IAPwB,mBAO/FqH,EAP+F,KAO3EC,EAP2E,OASvFzC,IAAKC,UAAbC,EAT+F,oBAWtG7E,qBAAU,WACTqH,IACAxC,EAAKC,eAAe,CACnB3H,GAAI,GACJmB,OAAQ,GACRd,SAAU,EACVa,QAAS,IAAIsI,KACbvI,UAAW,IAAIuI,KACfnI,MAAO,GACPD,SAAU,GACVE,MAAO,IAGR,IAAM6I,EAAO5F,EAAQuD,MAAK,SAAAsC,GAAC,OAAIA,EAAEpK,KAAOoF,MAAa,GACjDA,GAAY+E,GACfF,EAAsBE,EAAK/I,UAG5BsG,EAAKC,eAAeC,OAClB,CAACxC,EAAUkC,IAEd,IAAMM,EAAuB,WAC5B,IAAMyC,EAAa9F,EAAQuD,MAAK,SAAArG,GAAC,OAAIA,EAAEzB,KAAOoF,KAE9C,OAAIiF,EACI,CACNrK,GAAIoF,EACJE,SAAU+E,EAAWlJ,OAAOnB,GAC5BK,SAAUgK,EAAWhK,SACrBa,QAASmJ,EAAWnJ,QACpBD,UAAWoJ,EAAWpJ,UACtBI,MAAOgJ,EAAWhJ,OAKb,IA6CFwE,EAAU,CACf,CACC5F,MAAO,OACP6F,UAAW,SAEZ,CACC7F,MAAO,aACP6F,UAAW,YAEZ,CACC7F,MAAO,WACP6F,UAAW,YAEZ,CACC7F,MAAO,cACPkG,IAAK,SACLJ,OAAQ,SAACK,EAAQC,GAAT,OACP,cAAC,IAAD,CAAOC,KAAK,SAAZ,SACC,cAAC,IAAD,CACCC,KAAK,UACLC,MAAM,SACN7G,KAAM,cAACgH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,kBAvCiBnD,EAuCW8C,EAAOrG,QAtChDwF,GAAQ,CACPvF,MAAM,oDACNN,KAAM,cAACkH,EAAA,EAAD,IACNE,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KANO,WAON,IAAM1D,EAASwG,EAAmBvG,QAAO,SAAAhC,GAAC,OAAIA,EAAEzB,KAAOuD,KACvD0G,EAAsBzG,IAEvB2D,SAVO,eADqB,IAAC5D,UAiFzB2G,EAAiB,WACtBxC,EAAKU,cACL2B,EAAiB,IACjBE,EAAsB,KAGvB,OACC,mCACC,cAAC,IAAD,CACChK,MAAOmF,EAAW,sBAAqB,qBACvC2C,QAAST,EACTU,OAAQ,KACRb,SAAU,WACT+C,IACA3C,GAAkB,IAEnB+C,MAAO,IARR,SAUC,eAAC,IAAD,CACC5C,KAAMA,EACN9G,KAAK,0BACLqH,OAAO,WACPC,SAlIa,SAAClG,GAEjB,IAAMb,EAASwD,EAAQmD,MAAK,SAAAsC,GAAC,OAAIA,EAAEpK,KAAOgC,EAAKsD,aAAa,GAEtDiF,EAAuB,CAC5BlK,SAAU2B,EAAK3B,SACfa,QAASc,EAAKd,QACdG,MAAOW,EAAKX,MACZC,MAAOU,EAAKV,MAEZH,OAAQA,EACRF,UAAW,IAAIuI,KACfpI,SAAU4I,GAGP5E,EACHV,EAAWU,EAAUmF,GAErB/F,EAAU+F,GAGXL,IACA3C,GAAkB,IA6Gfc,cAAeT,IALhB,UAQC,cAAC,IAAKlI,KAAN,CACCiJ,MAAM,oBACN/H,KAAK,WAFN,SAIC,cAAC,KAAD,CACC4J,YAAU,EACVxB,YAAY,sBACZyB,iBAAiB,WAHlB,SAME9F,EAAQ+F,KAAI,SAAAN,GAAC,OACZ,eAACT,GAAD,CAGC9F,MAAOuG,EAAEpK,GAHV,UAIEoK,EAAExJ,KAJJ,MAIawJ,EAAErJ,QAFTqJ,EAAEpK,WASZ,uDACA,eAAC,IAAD,CACC2K,UAAU,aACVrE,KAAM,GACNsE,MAAO,CAAEC,aAAc,IAHxB,UAKC,6CACA,cAAC,KAAD,CACCL,YAAU,EACVI,MAAO,CAAEN,MAAO,KAChBtB,YAAY,sBACZyB,iBAAiB,WACjB5G,MAAK,iBAAEiG,QAAF,IAAEA,OAAF,EAAEA,EAAe9J,UAAjB,QAAuB,GAC5B8K,SAjGwB,SAACjH,GAE9B,IAAMV,EAAU/B,EAAS0G,MAAK,SAAArG,GAAC,OAAIA,EAAEzB,KAAO6D,KAE5C,GAAIV,EAAS,CACZ,IAAM2G,EAAgB,CACrB9J,GAAImD,EAAQnD,GACZC,MAAOkD,EAAQlD,MACfC,YAAaiD,EAAQjD,YACrBwB,SAAU,EACVrB,SAAU,GAGX0J,EAAiBD,KA8Ed,SASE1I,EAASsJ,KAAI,SAAAN,GAAC,OACb,cAACT,GAAD,CAAmB9F,MAAOuG,EAAEpK,GAA5B,SAAiCoK,EAAEnK,OAAtBmK,EAAEpK,SAKlB,gDACA,cAAC,KAAD,CACCgJ,YAAY,aACZF,IAAK,EACLjF,MAAOiG,EAAcpI,SACrBoJ,SAAU,SAACjH,GACVkG,EAAiB,6BAAKD,GAAN,IAAqBpI,SAAUmC,QAIjD,8CACA,cAAC,KAAD,CACCmF,YAAY,sBACZF,IAAK,EACLC,IAAK,IACLlF,MAAOiG,EAAczJ,SACrByK,SAAU,SAACjH,GACVkG,EAAiB,6BAAKD,GAAN,IAAqBzJ,SAAUwD,QAGjD,cAAC,IAAD,CAAQ0C,KAAK,UAAUG,QA7GG,WAC9B,IAAMhF,EAAWqJ,OAAM,OAACjB,QAAD,IAACA,OAAD,EAACA,EAAepI,WAAa,EAC9CrB,EAAW0K,OAAM,OAACjB,QAAD,IAACA,OAAD,EAACA,EAAezJ,WAAa,EAE9C2K,EAAoBhB,EAAmBrG,WAAU,SAAAlC,GAAC,OAAIA,EAAEzB,KAAO8J,EAAc9J,OAExD,IAAvBgL,GACHhB,EAAmBgB,GAAmBtJ,UAAYA,EAClDsI,EAAmBgB,GAAmB3K,UAAYA,EAClD4J,EAAsB,YAAID,KAE1BC,EAAsB,GAAD,mBAAKD,GAAL,CAAyBF,KAG/CC,EAAiB,KA+Fb,0BAGD,cAAC,IAAD,CACClE,QAASA,EACTuB,WAAY4C,IAWb,cAAC,IAAKtK,KAAN,CACCiJ,MAAM,oCACN/H,KAAK,QAFN,SAIC,cAAC,KAAD,MAGD,cAAC,IAAKlB,KAAN,UACC,cAAC,IAAD,CAAQ6G,KAAK,UAAU4C,SAAS,SAAhC,SACE/D,EAAW,SAAW,qBCjStBI,GAAYC,IAAZD,QA6EOyF,GA3EgC,SAAClM,GAAW,IAClDmM,EAAgBnM,EAAhBmM,YADiD,EAEvBtF,qBAA8BtB,GAAxDK,EAFiD,EAEjDA,QAASE,EAFwC,EAExCA,aAqBXgB,EAAU,CACf,CACC5F,MAAO,UACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOzF,SAEhB,CACCX,MAAO,SACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOtF,UAEhB,CACCd,MAAO,cACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOxF,YAEhB,CACCZ,MAAO,SACP8F,OAAQ,SAACK,EAAQC,GAAT,OACP,+BAAOA,EAAOvF,SAEhB,CACCb,MAAO,cACPkG,IAAK,SACLJ,OAAQ,SAACK,EAAQC,GAAT,OACP,eAAC,IAAD,CAAOC,KAAK,SAAZ,UACC,cAAC,IAAD,CACCC,KAAK,UACLC,MAAM,SACN7G,KAAM,cAAC8G,EAAA,EAAD,IACNH,KAAK,SACLI,QAAS,kBAnCEtB,EAmCWiB,EAAOrG,QAlCjCkL,EAAY9F,GADE,IAACA,KAoCZ,cAAC,IAAD,CACCmB,KAAK,UACLC,MAAM,SACN7G,KAAM,cAACgH,EAAA,EAAD,IACNL,KAAK,SACLM,QAAM,EACNF,QAAS,kBAzDIvB,EAyDWkB,OAxD5Bb,GAAQ,CACPvF,MAAM,oDACNN,KAAM,cAACkH,EAAA,EAAD,IACNC,QAAS,iCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,SACZC,KAPO,WAQNrC,EAAaM,EAAOnF,KAErBmH,SAVO,eADQ,IAAChC,WA+DlB,OACC,cAAC,IAAD,CACCiC,WAAYzC,EACZkB,QAASA,KCiCGsF,GApGmC,SAAC,GAAqD,IAAnD7F,EAAkD,EAAlDA,SAAUgC,EAAwC,EAAxCA,eAAgBC,EAAwB,EAAxBA,kBAAwB,EACvFC,IAAKC,UAAbC,EAD+F,sBAG3D9B,qBAA8BtB,GAAjEK,EAH8F,EAG9FA,QAASG,EAHqF,EAGrFA,WAAYF,EAHyE,EAGzEA,UAE7B/B,qBAAU,WACT6E,EAAKC,eAAe,CACnB3H,GAAI,GACJY,KAAM,GACNC,QAAS,GACTC,KAAM,GACNC,MAAO,KAGR2G,EAAKC,eAAeC,OAClB,CAACtC,IAEJ,IAgBMsC,EAAuB,WAC5B,IAAMwD,EAAazG,EAAQmD,MAAK,SAACrG,GAAD,OAAeA,EAAEzB,KAAOsF,KAExD,OAAI8F,EACI,gBACHA,GAIE,IAGR,OACC,mCACC,cAAC,IAAD,CACCnL,MAAOqF,EAAW,iBAAmB,gBACrCyC,QAAST,EACTU,OAAQ,KACRb,SAAU,WAAQI,GAAkB,IAJrC,SAMC,eAAC,IAAD,CACCG,KAAMA,EACN9G,KAAK,0BACLqH,OAAO,WACPC,SAxCa,SAAClG,GAEjB,IAAMqJ,EAAoB,gBACtBrJ,GAGAsD,EACHR,EAAWQ,EAAU+F,GAErBzG,EAAUyG,GAGX9D,GAAkB,GAClBG,EAAKU,eA4BFC,cAAeT,IALhB,UAQC,cAAC,IAAKlI,KAAN,CACCiJ,MAAM,OACN/H,KAAK,OAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,CACCiJ,MAAM,SACN/H,KAAK,QAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,CACCiJ,MAAM,iBACN/H,KAAK,UAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,CACCiJ,MAAM,SACN/H,KAAK,OAFN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAKlB,KAAN,UACC,cAAC,IAAD,CAAQ6G,KAAK,UAAU4C,SAAS,SAAhC,SACE7D,EAAW,SAAW,qB,oBC3CfgG,GA3DW,WAAO,IAAD,EACa3I,oBAAkB,GAD/B,mBACxB2E,EADwB,KACRC,EADQ,OAEC5E,mBAAiB,IAFlB,mBAExByC,EAFwB,KAEd8F,EAFc,KAIzBK,EAAc,WAA4B,IAA3BxD,EAA0B,wDAC9CR,EAAkBQ,IAQbyD,EAAa,CAClB,CACCC,KAAK,GAAD,OAAKpM,EAAL,KACJqM,eAAgB,QAEjB,CACCD,KAAK,GAAD,OAAKpM,EAAL,YACJqM,eAAgB,aAIlB,OACC,qCACC,cAAC,KAAD,CACCpM,UAAU,mBACVW,MAAM,WACNuL,WAAY,CAAEG,OAAQH,GACtBI,SAAS,sBACTC,MAAO,CACN,cAAC,IAAD,CACCtF,KAAK,UACLC,MAAM,QACN7G,KAAM,cAACmM,GAAA,EAAD,IACNxF,KAAK,QACLI,QAAS,WACRwE,EAAY,IACZK,GAAY,IAPd,kCAcF,cAAC,GAAD,CACCjG,SAAUF,EACVkC,eAAgBA,EAChBC,kBAAmBgE,IAGpB,cAAC,GAAD,CACCL,YA7CoB,SAAClL,GACvBkL,EAAYlL,GACZuL,GAAY,UCkDCQ,GA5DW,WAAO,IAAD,EAEapJ,oBAAkB,GAF/B,mBAExB2E,EAFwB,KAERC,EAFQ,OAGC5E,mBAAiB,IAHlB,mBAGxByC,EAHwB,KAGdmE,EAHc,KAKzBgC,EAAc,WAA4B,IAA3BxD,EAA0B,wDAC9CR,EAAkBQ,IAQbyD,EAAa,CAClB,CACCC,KAAK,GAAD,OAAKpM,EAAL,KACJqM,eAAgB,QAEjB,CACCD,KAAK,GAAD,OAAKpM,EAAL,YACJqM,eAAgB,kBAIlB,OACC,qCACC,cAAC,KAAD,CACCpM,UAAU,mBACVW,MAAM,gBACNuL,WAAY,CAAEG,OAAQH,GACtBI,SAAS,uBACTC,MAAO,CACN,cAAC,IAAD,CACCtF,KAAK,UACLC,MAAM,QACN7G,KAAM,cAACmM,GAAA,EAAD,IACNxF,KAAK,QACLI,QAAS,WACR6C,EAAY,IACZgC,GAAY,IAPd,uCAcF,cAAC,GAAD,CACCnG,SAAUA,EACVkC,eAAgBA,EAChBC,kBAAmBgE,IAGpB,cAAC,GAAD,CACChC,YA7CoB,SAACvJ,GACvBuJ,EAAYvJ,GACZuL,GAAY,UCgDCS,GA3DY,WAAO,IAAD,EACYrJ,oBAAkB,GAD9B,mBACzB2E,EADyB,KACTC,EADS,OAEE5E,mBAAiB,IAFnB,mBAEzBY,EAFyB,KAEdoC,EAFc,KAI1B4F,EAAc,WAA4B,IAA3BxD,EAA0B,wDAC9CR,EAAkBQ,IAQbyD,EAAa,CAClB,CACCC,KAAK,GAAD,OAAKpM,EAAL,KACJqM,eAAgB,QAEjB,CACCD,KAAK,GAAD,OAAKpM,EAAL,aACJqM,eAAgB,aAIlB,OACC,qCACC,cAAC,KAAD,CACCpM,UAAU,mBACVW,MAAM,WACNuL,WAAY,CAAEG,OAAQH,GACtBI,SAAS,uBACTC,MAAO,CACN,cAAC,IAAD,CACCtF,KAAK,UACLC,MAAM,QACN7G,KAAM,cAACmM,GAAA,EAAD,IACNxF,KAAK,QACLI,QAAS,WACRf,EAAa,IACb4F,GAAY,IAPd,kCAcF,cAAC,EAAD,CACChI,UAAWA,EACX+D,eAAgBA,EAChBC,kBAAmBgE,IAGpB,cAAC,EAAD,CACC5F,aA7CqB,SAAC3F,GACxB2F,EAAa3F,GACbuL,GAAY,UCTCU,GARQ,WACtB,OACC,8BACC,4D,qEC4CYC,GANE,CAChBC,kBAjCsB,yCAAG,WAAOC,EAAsBC,GAA7B,UAAAC,EAAA,+EACzBC,aAAQH,EAAS,CAChBI,UAAW,KACXC,OAAQ,CACPC,KAAM,GACNC,IAAK,GACLC,MAAO,GACPC,OAAQ,MAGRC,MAAK,SAACC,GAAD,OAAkBC,aAAUD,MACjCD,MAAK,SAACG,GACN,OAAOA,EAAQC,QAAQ,+BAAgC,QAZhC,2CAAH,wDAkCtBC,UAXc,yCAAG,WAAOpM,GAAP,gBAAAuL,EAAA,4DACL,wCADK,SAEMc,MADX,wCACsB,CACjCC,OAAQ,OACRC,KAAMnL,KAAKa,UAAU,CAAEjC,YAJP,cAEXwM,EAFW,yBAMVA,GAAYA,EAASC,QANX,2CAAH,sDAYdC,wBApB+B,SAACrB,GAA8D,IAAxCsB,EAAuC,uDAApB,UACzEC,aAAQvB,EAAS,CAChBI,UAAW,KACXC,OAAQ,GACRmB,SAAS,GAAD,QAAK,IAAIpE,MAAOqE,cAAhB,aAAiC,IAAIrE,MAAOsE,WAA5C,aAA0D,IAAItE,MAAOuE,SAArE,YAAiFL,EAAjF,YCoLKM,GA9LH,WAAO,IACZ5I,EAAa6I,cAAb7I,SAEEb,EAAYqB,qBAA8BtB,GAA1CC,QAHS,EAMW5B,mBAAiB,IAN5B,mBAMVwC,EANU,KAMF+I,EANE,KAQjBrL,qBAAU,WACT,IAAMsL,EAAW5J,EAAQuD,MAAK,SAAArG,GAAC,OAAIA,EAAEzB,KAAOoF,KACxC+I,GACHD,EAAU,IAAIlN,EACbmN,EAASnO,GACTmO,EAASlN,UACTkN,EAASjN,QACTiN,EAAShN,OACTgN,EAAS/M,SACT+M,EAAS9M,MACT8M,EAAS9N,SACT8N,EAAS7M,UAGT,CAAC8D,IAEJ,IAAMgJ,EAAYC,iBAAuB,MACnCC,EAAqBD,iBAAkB,MAEvCE,EAAc,yCAAG,iCAAAjC,EAAA,6DAClBF,EAAUgC,EAAUI,SAAWC,SAASnB,KADtB,SAEEpB,GAASC,kBAAkBC,GAF7B,cAEhBsC,EAFgB,OAKhB3N,EAAQ,IAAIP,EACjB,4BACA,0BACAkO,GARqB,SAWhBxC,GAASiB,UAAUpM,GAXH,2CAAH,qDA8IpB,OACC,qCACC,qBAAKzB,UAAU,gBAAf,SA5HgB,gCACjB,cAAC,KAAD,CACCqP,IAAKL,EACL9B,UAAU,OACVC,OAAQ,GACRmB,SAAQ,sBAAgB,IAAIpE,MAAOqE,eACnCe,OAAO,kBALR,SAOC,qBAAKD,IAAKP,EAAV,SACC,sBAAKpO,GAAG,WAAR,UACC,wBAAOV,UAAU,KAAjB,UACC,gCACC,+BACC,qBAAIA,UAAU,SAAd,UACC,mBAAGA,UAAU,KAAb,SAtEY,mBAuEZ,mBAAGA,UAAU,KAAb,SApEa,kCAqEb,mBAAGA,UAAU,KAAb,SAvEe,sCAwEf,mBAAGA,UAAU,KAAb,SAvEY,qBAyEb,oBAAIA,UAAU,SAAd,SACC,mBAAGA,UAAU,KAAb,iCAIH,gCACC,+BACC,qBAAIA,UAAU,SAAd,UACC,mBAAGA,UAAU,eAAb,6BACA,mBAAGA,UAAU,KAAb,gBAAmB6F,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAQhE,cAA3B,aAAmB,EAAgBP,OACnC,mBAAGtB,UAAU,KAAb,gBAAmB6F,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAQhE,cAA3B,aAAmB,EAAgBJ,QACnC,mBAAGzB,UAAU,KAAb,gBAAmB6F,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAQhE,cAA3B,aAAmB,EAAgBN,UACnC,mBAAGvB,UAAU,KAAb,gBAAmB6F,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAQhE,cAA3B,aAAmB,EAAgBL,UAEpC,oBAAIxB,UAAU,QAAd,SACC,wBAAOA,UAAU,KAAjB,UACC,+BACC,oBAAIA,UAAU,UAAd,SACC,mBAAGA,UAAU,SAAb,oCAED,oBAAIA,UAAU,UAAd,SACC,mBAAGA,UAAU,iBAAb,UAAqC,OAAN6F,QAAM,IAANA,OAAA,EAAAA,EAAQlE,WAAY,IAAIuI,KAAKrE,EAAOlE,WAAWwI,mBAAmB,SAAW,YAG9G,+BACC,oBAAInK,UAAU,UAAd,SACC,mBAAGA,UAAU,SAAb,gCAED,oBAAIA,UAAU,UAAd,SACC,mBAAGA,UAAU,iBAAb,UAAqC,OAAN6F,QAAM,IAANA,OAAA,EAAAA,EAAQjE,SAAU,IAAIsI,KAAKrE,EAAOjE,SAASuI,mBAAmB,SAAW,6CAS/G,wBAAOnK,UAAU,KAAjB,UACC,gCACC,+BACC,oBAAIA,UAAU,YAAd,6BACA,oBAAIA,UAAU,6BAAd,wBACA,oBAAIA,UAAU,6BAAd,sBACA,oBAAIA,UAAU,6BAAd,wBAGF,uCAEE6F,QAFF,IAEEA,GAFF,UAEEA,EAAQ/D,gBAFV,aAEE,EAAkBsJ,KAAI,SAAAjJ,GAAC,OACtB,+BACC,oBAAInC,UAAU,SAAd,SAAwBmC,EAAExB,QAC1B,oBAAIX,UAAU,0BAAd,SAAyCmC,EAAEC,WAC3C,qBAAIpC,UAAU,0BAAd,gBAA4CmC,EAAErB,WAAa,KAC3D,qBAAId,UAAU,0BAAd,gBAAsE,gBAO3E,qBAAKA,UAAU,eAAf,SACC,wBAAOA,UAAU,KAAjB,UACC,gCACC,+BACC,oBAAIA,UAAU,YAAd,SACC,mBAAGA,UAAU,SAAb,wBAED,oBAAIA,UAAU,aAAd,SACC,oBAAGA,UAAU,iBAAb,gBAAgE,YAInE,mCACQ,OAAN6F,QAAM,IAANA,OAAA,EAAAA,EAAQ9E,WACR,+BACC,oBAAIf,UAAU,SAAd,SACC,mBAAGA,UAAU,SAAb,4BAED,oBAAIA,UAAU,SAAd,SACC,oBAAGA,UAAU,iBAAb,iBAA+B6F,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAQ9E,SAAvC,aAIH,qBAAIf,UAAU,YAAd,UACC,oBAAIA,UAAU,SAAd,SACC,mBAAGA,UAAU,SAAb,qBAED,oBAAIA,UAAU,SAAd,SACC,oBAAGA,UAAU,iBAAb,gBAA6D,kBAOlE,mBAAGA,UAAU,gBAAb,gCACA,mBAAGA,UAAU,YAAb,gBAA0B6F,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAQ9D,eASlCwN,KAEF,eAAC,IAAD,CAAOjE,MAAO,CAAEN,MAAO,QAAvB,UACC,cAAC,IAAD,CACC/D,KAAK,UACLG,QAxIwB,WAC3B,IAAI0F,EAAUgC,EAAUI,SAAWC,SAASnB,KAE5CpB,GAASuB,wBAAwBrB,GAAe,OAANjH,QAAM,IAANA,OAAA,EAAAA,EAAQhE,OAAOJ,OAAQ,SAmI/D,mCAKA,cAAC,IAAD,CACC2F,QAAS6H,EADV,qCClLWO,GAhBU,WACxB,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOrD,KAAI,UAAKpM,EAAL,KAAyB0P,OAAK,EAACC,UAAW/C,KAErD,cAAC,IAAD,CAAOR,KAAI,UAAKpM,EAAL,aAAiC0P,OAAK,EAACC,UAAWhD,KAE7D,cAAC,IAAD,CAAOP,KAAI,UAAKpM,EAAL,YAAgC0P,OAAK,EAACC,UAAWjD,KAC5D,cAAC,IAAD,CAAON,KAAI,UAAKpM,EAAL,0BAA8C2P,UAAWhB,KACpE,cAAC,IAAD,CAAOvC,KAAI,UAAKpM,EAAL,YAAgC0P,OAAK,EAACC,UAAW1D,KAE5D,cAAC,IAAD,CAAU2D,KAAK,IAAI7P,GAAE,UAAKC,EAAL,W,6BCFhB6P,GAAoBrQ,IAApBqQ,OAAQC,GAAYtQ,IAAZsQ,QAsCDC,OApCf,WAAgB,IAAD,EACkBzM,oBAAS,GAD3B,mBACPxD,EADO,KACGkQ,EADH,KAGd,OACC,cAAC,IAAD,CAAQhG,QAASA,EAAjB,SACC,cAAC,EAAD,UACC,cAAC,EAAD,UAEC,eAAC,IAAD,WACC,cAAC,EAAD,CAAQlK,SAAUA,IAClB,eAAC,IAAD,CAAQyL,MAAO,CAAE0E,UAAW,SAA5B,UACC,cAACJ,GAAD,CAAQtE,MAAO,CAAE2E,QAAS,EAAGC,WAAY,QAAzC,SACEC,IAAMC,cAAcvQ,EAAWwQ,KAAqBC,KAAkB,CACtEtQ,UAAW,UACXoH,QAAS,WAAQ2I,GAAalQ,QAGhC,cAACgQ,GAAD,CACCvE,MAAO,CACN6B,OAAQ,YACR8C,QAAS,GACTD,UAAW,IACXE,WAAY,QALd,SAQC,cAAC,GAAD,mB,OCpCRK,IAAS9J,OACR,cAAC,IAAM+J,WAAP,UACC,cAAC,GAAD,MAEDrB,SAASsB,eAAe,W","file":"static/js/main.e50d425c.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","const BASE_URL = '/react-orcamento';\r\n\r\nexport default {\r\n\tBASE_URL\r\n}","import React from \"react\";\r\nimport { Layout, Menu } from 'antd';\r\n\r\nimport {\r\n\tDashboardOutlined,\r\n\tExceptionOutlined,\r\n\tShoppingOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport './styles.css';\r\nimport { Config } from \"../../configs\";\r\n\r\nconst { Sider } = Layout;\r\n\r\nconst Navbar = (props: any) => {\r\n\r\n\treturn (\r\n\t\t<Sider trigger={null} collapsible collapsed={props.collapse}>\r\n\t\t\t<Link to={`${Config.BASE_URL}/`}>\r\n\t\t\t\t<h4 className={!props.collapse ? 'logo' : 'logo-collapse'}>Gerenciador de Orçamento</h4>\r\n\t\t\t</Link>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\r\n\t\t\t\t<Menu.Item key=\"1\" icon={<DashboardOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/`}>Home</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"2\" icon={<ExceptionOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/clients`}>Clientes</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"3\" icon={<ShoppingOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/products`}>Produtos</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"4\" icon={<ExceptionOutlined />}>\r\n\t\t\t\t\t<Link to={`${Config.BASE_URL}/budgets`}>Orçamentos</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import { ProductDTO } from './DTOs/ProductDTO';\r\ninterface IProduct {\r\n\ttoDTO: () => ProductDTO;\r\n}\r\nexport class Product implements IProduct {\r\n\tconstructor(\r\n\t\tpublic id: string,\r\n\t\tpublic title: string,\r\n\t\tpublic description: string,\r\n\t\tpublic providerPrice: number,\r\n\t\tpublic salePrice: number,\r\n\t\tpublic discount: number,\r\n\t\tpublic active: boolean\r\n\t) { }\r\n\r\n\ttoDTO() {\r\n\t\treturn {\r\n\t\t\ttitle: this.title,\r\n\t\t\tdescription: this.description,\r\n\t\t\tproviderPrice: this.providerPrice,\r\n\t\t\tsalePrice: this.salePrice,\r\n\t\t\tdiscount: this.discount,\r\n\t\t\tactive: this.active\r\n\t\t} as ProductDTO\r\n\t}\r\n\r\n}\r\n","export class Email {\r\n\tconstructor(\r\n\t\tpublic to: string,\r\n\t\tpublic subject: string,\r\n\t\tpublic fileBase64: string,\r\n\t) { }\r\n}","export class Client {\r\n\tconstructor(\r\n\t\tpublic id: string,\r\n\t\tpublic name: string,\r\n\t\tpublic address: string,\r\n\t\tpublic city: string,\r\n\t\tpublic email: string,\r\n\t) { }\r\n}","import { Client } from \"./Client\";\r\nimport { ProductBudget } from './ProductBudget';\r\n\r\nexport class Budget {\r\n\tconstructor(\r\n\t\tpublic id: string,\r\n\t\tpublic startDate: Date,\r\n\t\tpublic endDate: Date,\r\n\t\tpublic client: Client,\r\n\t\tpublic products: ProductBudget[],\r\n\t\tpublic notes: string,\r\n\t\tpublic discount: number,\r\n\t\tpublic total: number\r\n\t) { }\r\n\r\n\tpublic calculateSubTotal() {\r\n\t\tvar calculate = 0;\r\n\t\tthis.products.forEach(function (p: ProductBudget) {\r\n\t\t\tcalculate += (p.salePrice * p.quantity);\r\n\t\t});\r\n\t\tthis.total = calculate;\r\n\t}\r\n\r\n\tpublic applyDiscount(discountPercent: number) {\r\n\t\tthis.discount = discountPercent;\r\n\t\tthis.total = this.total * (1 - discountPercent / 100);\r\n\t}\r\n\r\n\tpublic calculateTotal() {\r\n\t\tthis.calculateSubTotal();\r\n\t\tthis.applyDiscount(this.discount);\r\n\t}\r\n}","import { Product } from './../models';\r\n\r\nconst PRODUCT_STORE = 'PRODUCT_STORE';\r\n\r\nexport const getProducts = (): Product[] => {\r\n\tconst data = localStorage.getItem(PRODUCT_STORE) || '';\r\n\ttry {\r\n\t\treturn JSON.parse(data) as Product[];\r\n\t} catch {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\nexport const saveProducts = (data: Product[]) => {\r\n\tif (data?.length > 0) {\r\n\t\tlocalStorage.setItem(PRODUCT_STORE, JSON.stringify(data));\r\n\t}\r\n}","import { Guid } from 'guid-ts';\r\nimport React, { createContext, useEffect, useState } from 'react'\r\nimport { Product, ProductDTO } from '../../models';\r\nimport { getProducts, saveProducts } from '../../services/ProductsService';\r\nimport { ProductContextType } from './ProductContextType';\r\n\r\nexport const ProductsContext = createContext<ProductContextType>({\r\n\tproducts: [],\r\n\taddProduct: () => null,\r\n\tremoveProduct: () => null,\r\n\teditProduct: () => null\r\n});\r\n\r\n\r\nconst ProductsProvider = (props: any) => {\r\n\r\n\tconst [products, setProducts] = useState<Product[]>(getProducts);\r\n\r\n\tuseEffect(() => {\r\n\t\tsaveProducts(products);\r\n\t}, [products])\r\n\r\n\tconst addProduct = (dto: ProductDTO) => {\r\n\t\tconst product: Product = new Product(\r\n\t\t\tGuid.newGuid().toString(),\r\n\t\t\tdto.title,\r\n\t\t\tdto.description,\r\n\t\t\tdto.providerPrice,\r\n\t\t\tdto.salePrice,\r\n\t\t\tdto.discount,\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tsetProducts([...products, product]);\r\n\t}\r\n\r\n\tconst removeProduct = (productId: string) => {\r\n\t\tconst result = products.filter(p => p.id !== productId);\r\n\t\tsetProducts(result);\r\n\t}\r\n\r\n\tconst editProduct = (productId: string, dto: ProductDTO) => {\r\n\r\n\t\tconst idxProduct = products.findIndex(p => p.id === productId);\r\n\r\n\t\tif (idxProduct !== -1) {\r\n\r\n\t\t\tproducts[idxProduct].active = dto.active;\r\n\t\t\tproducts[idxProduct].title = dto.title;\r\n\t\t\tproducts[idxProduct].description = dto.description;\r\n\t\t\tproducts[idxProduct].discount = dto.discount;\r\n\t\t\tproducts[idxProduct].salePrice = dto.salePrice;\r\n\t\t\tproducts[idxProduct].providerPrice = dto.providerPrice;\r\n\r\n\t\t\tsetProducts([...products]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst data = {\r\n\t\tproducts,\r\n\t\taddProduct,\r\n\t\tremoveProduct,\r\n\t\teditProduct\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ProductsContext.Provider value={data}>\r\n\t\t\t{props.children}\r\n\t\t</ProductsContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default ProductsProvider;","import { Budget } from '../models';\r\n\r\nconst BUDGET_STORE = 'BUDGET_STORE';\r\n\r\nexport const getBudgets = (): Budget[] => {\r\n\tconst data = localStorage.getItem(BUDGET_STORE) || '';\r\n\ttry {\r\n\t\tconst temp = JSON.parse(data) as Budget[];\r\n\t\tlet result: Budget[] = [];\r\n\t\tfor (let b of temp) {\r\n\t\t\tresult.push(new Budget(\r\n\t\t\t\tb.id,\r\n\t\t\t\tb.startDate,\r\n\t\t\t\tb.endDate,\r\n\t\t\t\tb.client,\r\n\t\t\t\tb.products,\r\n\t\t\t\tb.notes,\r\n\t\t\t\tb.discount,\r\n\t\t\t\tb.total,\r\n\t\t\t));\r\n\t\t}\r\n\t\treturn result;\r\n\t} catch {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\nexport const saveBudgets = (data: Budget[]) => {\r\n\tif (data?.length > 0) {\r\n\t\tlocalStorage.setItem(BUDGET_STORE, JSON.stringify(data));\r\n\t}\r\n}","import { Client } from '../models';\r\n\r\nconst CLIENT_STORE = 'CLIENT_STORE';\r\n\r\nexport const getClients = (): Client[] => {\r\n\tconst data = localStorage.getItem(CLIENT_STORE) || '';\r\n\ttry {\r\n\t\tconst temp = JSON.parse(data) as Client[];\r\n\t\tlet result: Client[] = [];\r\n\t\tfor (let b of temp) {\r\n\t\t\tresult.push(new Client(\r\n\t\t\t\tb.id,\r\n\t\t\t\tb.name,\r\n\t\t\t\tb.address,\r\n\t\t\t\tb.city,\r\n\t\t\t\tb.email\r\n\t\t\t));\r\n\t\t}\r\n\t\treturn result;\r\n\t} catch {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\nexport const saveClients = (data: Client[]) => {\r\n\tif (data?.length > 0) {\r\n\t\tlocalStorage.setItem(CLIENT_STORE, JSON.stringify(data));\r\n\t}\r\n}","import React, { createContext, useEffect, useState } from 'react'\r\nimport { Guid } from 'guid-ts';\r\n\r\nimport { BudgetContextType } from './BudgetContextType';\r\nimport { Budget, BudgetDTO, Client, ClientDTO } from '../../models';\r\nimport { getBudgets, saveBudgets } from '../../services/BudgetsService';\r\nimport { getClients } from '../../services/ClientService';\r\n\r\nexport const BudgetsContext = createContext<BudgetContextType>({\r\n\tbudgets: [],\r\n\taddBudget: () => null,\r\n\tremoveBudget: () => null,\r\n\teditBudget: () => null,\r\n\r\n\tclients: [],\r\n\taddClient: () => null,\r\n\tremoveClient: () => null,\r\n\teditClient: () => null,\r\n});\r\n\r\n\r\nconst BudgetsProvider = (props: any) => {\r\n\r\n\tconst [budgets, setBudgets] = useState<Budget[]>(getBudgets);\r\n\tconst [clients, setClients] = useState<Client[]>(getClients);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetClients(clients);\r\n\t}, [clients])\r\n\r\n\tuseEffect(() => {\r\n\t\tsaveBudgets(budgets);\r\n\t}, [budgets])\r\n\r\n\t//#region Budget\r\n\tconst addBudget = (dto: BudgetDTO) => {\r\n\t\tconst budget: Budget = new Budget(\r\n\t\t\tGuid.newGuid().toString(),\r\n\t\t\tdto.startDate,\r\n\t\t\tdto.endDate,\r\n\t\t\tdto.client,\r\n\t\t\tdto.products,\r\n\t\t\tdto.notes,\r\n\t\t\tdto.discount,\r\n\t\t\tdto.total\r\n\t\t);\r\n\r\n\t\tsetBudgets([...budgets, budget]);\r\n\t}\r\n\r\n\tconst removeBudget = (budgetId: string) => {\r\n\t\tconst result = budgets.filter(p => p.id !== budgetId);\r\n\t\tsetBudgets(result);\r\n\t}\r\n\r\n\tconst editBudget = (budgetId: string, dto: BudgetDTO) => {\r\n\r\n\t\tconst idxBudget = budgets.findIndex(p => p.id === budgetId);\r\n\r\n\t\tif (idxBudget !== -1) {\r\n\r\n\t\t\tbudgets[idxBudget].startDate = dto.startDate;\r\n\t\t\tbudgets[idxBudget].endDate = dto.endDate;\r\n\t\t\tbudgets[idxBudget].client = dto.client;\r\n\t\t\tbudgets[idxBudget].discount = dto.discount;\r\n\t\t\tbudgets[idxBudget].notes = dto.notes;\r\n\t\t\tbudgets[idxBudget].products = dto.products;\r\n\t\t\tbudgets[idxBudget].total = dto.total;\r\n\r\n\t\t\tsetBudgets([...budgets]);\r\n\t\t}\r\n\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Clients\r\n\tconst addClient = (dto: ClientDTO) => {\r\n\t\tconst client: Client = new Client(\r\n\t\t\tGuid.newGuid().toString(),\r\n\t\t\tdto.name,\r\n\t\t\tdto.address,\r\n\t\t\tdto.city,\r\n\t\t\tdto.email\r\n\t\t);\r\n\r\n\t\tsetClients([...clients, client]);\r\n\t}\r\n\r\n\tconst removeClient = (clientId: string) => {\r\n\t\tconst result = clients.filter(p => p.id !== clientId);\r\n\t\tsetClients(result);\r\n\t}\r\n\r\n\tconst editClient = (clientId: string, dto: ClientDTO) => {\r\n\r\n\t\tconst idxClient = clients.findIndex(p => p.id === clientId);\r\n\r\n\t\tif (idxClient !== -1) {\r\n\r\n\t\t\tclients[idxClient].name = dto.name;\r\n\t\t\tclients[idxClient].address = dto.address;\r\n\t\t\tclients[idxClient].city = dto.city;\r\n\t\t\tclients[idxClient].email = dto.email;\r\n\r\n\t\t\tsetClients([...clients]);\r\n\t\t}\r\n\r\n\t}\r\n\t//#endregion\r\n\r\n\tconst data = {\r\n\t\tbudgets,\r\n\t\taddBudget,\r\n\t\tremoveBudget,\r\n\t\teditBudget,\r\n\r\n\t\tclients,\r\n\t\taddClient,\r\n\t\tremoveClient,\r\n\t\teditClient,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<BudgetsContext.Provider value={data}>\r\n\t\t\t{props.children}\r\n\t\t</BudgetsContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default BudgetsProvider;","import React, { useContext } from \"react\";\r\nimport { Modal, Table, Button, Space } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { ProductsContext, ProductContextType } from \"../../contexts\";\r\nimport { Product } from \"../../models\";\r\n\r\nconst { confirm } = Modal;\r\n\r\ninterface ProductListProps {\r\n\tsetProductId: (id: string) => void;\r\n}\r\n\r\nconst ProductsList: React.FC<ProductListProps> = (props) => {\r\n\tconst { setProductId } = props;\r\n\tconst { products, removeProduct } = useContext<ProductContextType>(ProductsContext);\r\n\r\n\tconst onRemove = (product: Product) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover o produto ${product.title}?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Remova só se tiver certeza.',\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveProduct(product.id);\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onEdit = (productId: string) => {\r\n\t\tsetProductId(productId);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Nome',\r\n\t\t\tdataIndex: 'title',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Descrição',\r\n\t\t\tdataIndex: 'description',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Preço de venda',\r\n\t\t\tdataIndex: 'salePrice',\r\n\t\t\trender: (price: number) => <span>R$ {price.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: Product) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onEdit(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemove(record)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tdataSource={products}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ProductsList;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Button, Form, Input, Modal, Row, Space } from \"antd\";\r\n\r\nimport { ProductContextType, ProductsContext } from \"../../contexts\";\r\nimport { Product, ProductDTO } from \"../../models\";\r\n\r\ninterface AddProductForm {\r\n\ttitle: string;\r\n\tdescription: string;\r\n\tsalePrice: number;\r\n\tproviderPrice: number;\r\n\tdiscount: number;\r\n}\r\n\r\ninterface CreateProductProps {\r\n\tproductId?: string;\r\n\tisModalVisible: boolean;\r\n\tsetIsModalVisible: (visible: boolean) => void;\r\n}\r\n\r\nconst CreateProduct: React.FC<CreateProductProps> = ({ productId, isModalVisible, setIsModalVisible }) => {\r\n\r\n\tconst { products, addProduct, editProduct } = useContext<ProductContextType>(ProductsContext);\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tform.setFieldsValue({\r\n\t\t\ttitle: '',\r\n\t\t\tdescription: '',\r\n\t\t\tsalePrice: 0,\r\n\t\t\tproviderPrice: 0,\r\n\t\t\tdiscount: 0,\r\n\t\t} as Product);\r\n\r\n\t\tform.setFieldsValue(prepareInitialValues());\r\n\t}, [productId]);\r\n\r\n\tconst prepareInitialValues = (): Product => {\r\n\t\tconst productBase = products.find(p => p.id === productId);\r\n\r\n\t\tif (productBase) {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: productBase.title,\r\n\t\t\t\tdescription: productBase.description,\r\n\t\t\t\tsalePrice: productBase.salePrice,\r\n\t\t\t\tproviderPrice: productBase.providerPrice,\r\n\t\t\t\tdiscount: productBase.discount,\r\n\t\t\t} as Product;\r\n\t\t}\r\n\r\n\t\treturn {} as Product;\r\n\t}\r\n\r\n\tconst onFinish = (data: AddProductForm): void => {\r\n\r\n\t\tconst newPproduct: ProductDTO = {\r\n\t\t\ttitle: data.title,\r\n\t\t\tdescription: data.description,\r\n\t\t\tsalePrice: data.salePrice,\r\n\t\t\tproviderPrice: data.providerPrice,\r\n\t\t\tdiscount: data.discount,\r\n\t\t\tactive: true,\r\n\t\t}\r\n\r\n\t\tif (productId) {\r\n\t\t\teditProduct(productId, newPproduct);\r\n\t\t} else {\r\n\t\t\taddProduct(newPproduct);\r\n\t\t}\r\n\r\n\t\tsetIsModalVisible(false);\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\r\n\tconst validateMessages = {\r\n\t\trequired: '${label} is required!',\r\n\t\ttypes: {\r\n\t\t\temail: '${label} is not a valid email!',\r\n\t\t\tnumber: '${label} is not a valid number!',\r\n\t\t},\r\n\t\tnumber: {\r\n\t\t\trange: '${label} must be between ${min} and ${max}',\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={productId ? \"Editar Produto\" : \"Criar Produto\"}\r\n\t\t\tvisible={isModalVisible}\r\n\t\t\tfooter={null}\r\n\t\t\tonCancel={() => { setIsModalVisible(false) }}\r\n\t\t>\r\n\r\n\t\t\t<Form\r\n\t\t\t\tform={form}\r\n\t\t\t\tname=\"form-create-edit-product\"\r\n\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\tonFinish={onFinish}\r\n\t\t\t\tinitialValues={prepareInitialValues()}\r\n\t\t\t\tvalidateMessages={validateMessages}\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Título do produto\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: \"Título é obrigatório\" },\r\n\t\t\t\t\t\t{ min: 5, max: 30, message: \"Título deve ter entre 5 e 30 caracteres\" },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Nome do produto\" />\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Descrição do produt\"\r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: \"A descrição é obrigatória\" },\r\n\t\t\t\t\t\t{ min: 5, max: 80, message: \"A descrição deve ter entre 5 e 80 caracteres\" },\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input placeholder=\"Breve descrição do produto\" />\r\n\t\t\t\t</Form.Item>\r\n\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Space>\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Preço de CUSTO do produto\"\r\n\t\t\t\t\t\t\tname=\"providerPrice\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"O preço é obrigatório\" }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\taddonBefore=\"R$\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Preço de custo do produto\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Preço de VENDA do produto\"\r\n\t\t\t\t\t\t\tname=\"salePrice\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"O preço de venda do produto é obrigatório\" }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\taddonBefore=\"R$\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Preço de venda do produto\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t{productId ? \"Editar\" : \"Salvar\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default CreateProduct;\r\n","import React, { useContext } from \"react\";\r\nimport { Modal, Table, Button, Space } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n\tFilePdfOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { Budget } from \"../../models\";\r\nimport { BudgetsContext, BudgetContextType } from \"../../contexts\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Config } from \"../../configs\";\r\n\r\ninterface BudgetListProps {\r\n\tsetBudgetId: (id: string) => void;\r\n}\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst BudgetsList: React.FC<BudgetListProps> = (props) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst { setBudgetId } = props;\r\n\tconst { budgets, removeBudget } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\tconst onRemove = (budget: Budget) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover esse orçamento?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Remova só se tiver certeza.',\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveBudget(budget.id);\r\n\t\t\t},\r\n\t\t\tonCancel() { }\r\n\t\t});\r\n\t};\r\n\r\n\tconst onEdit = (budgetId: string) => {\r\n\t\tsetBudgetId(budgetId);\r\n\t};\r\n\r\n\tconst onSendPdf = (budgetId: string) => {\r\n\t\thistory.push(`${Config.BASE_URL}/budgets/pdf/${budgetId}`);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cliente',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{record.client.name}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'email',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{record.client.email}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Data criação',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{new Date(record.startDate).toLocaleDateString(\"pt-BR\")}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Data validade',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{new Date(record.endDate).toLocaleDateString(\"pt-BR\")}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Quantidade de produtos',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>{record.products.length}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Total',\r\n\t\t\trender: (_: any, record: Budget) =>\r\n\t\t\t\t<span>R$ {record.total && record.total.toLocaleString(\"pt-BR\")}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: Budget) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"ghost\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<FilePdfOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onSendPdf(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onEdit(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemove(record)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tdataSource={budgets}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default BudgetsList;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Button, Form, InputNumber, Modal, Select, Space, Table } from \"antd\";\r\nimport {\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { BudgetContextType, BudgetsContext, ProductContextType, ProductsContext } from \"../../contexts\";\r\nimport { Budget, BudgetDTO, Client, ProductBudget } from \"../../models\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\n\r\ninterface AddBudgetForm {\r\n\tid: string;\r\n\tclientId: string;\r\n\tdiscount: number;\r\n\tendDate: Date;\r\n\tstartDate: Date;\r\n\tnotes: string;\r\n\tproducts: ProductBudget[];\r\n\ttotal: number;\r\n}\r\n\r\ninterface CreateBudgetProps {\r\n\tbudgetId?: string;\r\n\tisModalVisible: boolean;\r\n\tsetIsModalVisible: (visible: boolean) => void;\r\n}\r\n\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\n\r\nconst CreateBudget: React.FC<CreateBudgetProps> = ({ budgetId, isModalVisible, setIsModalVisible }) => {\r\n\r\n\tconst { products } = useContext<ProductContextType>(ProductsContext);\r\n\tconst { budgets, editBudget, addBudget } = useContext<BudgetContextType>(BudgetsContext);\r\n\tconst { clients } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\tconst [productBudget, setProductBudget] = useState<ProductBudget>({} as ProductBudget);\r\n\tconst [listProductsBudget, setListProductsBudget] = useState<ProductBudget[]>([])\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tuseEffect(() => {\r\n\t\tclearFormModal();\r\n\t\tform.setFieldsValue({\r\n\t\t\tid: \"\",\r\n\t\t\tclient: {} as Client,\r\n\t\t\tdiscount: 0,\r\n\t\t\tendDate: new Date(),\r\n\t\t\tstartDate: new Date(),\r\n\t\t\tnotes: \"\",\r\n\t\t\tproducts: [] as ProductBudget[],\r\n\t\t\ttotal: 0,\r\n\t\t} as Budget);\r\n\r\n\t\tconst budg = budgets.find(c => c.id === budgetId) || {} as Budget;\r\n\t\tif (budgetId && budg) {\r\n\t\t\tsetListProductsBudget(budg.products);\r\n\t\t}\r\n\r\n\t\tform.setFieldsValue(prepareInitialValues());\r\n\t}, [budgetId, isModalVisible]);\r\n\r\n\tconst prepareInitialValues = (): AddBudgetForm => {\r\n\t\tconst budgetBase = budgets.find(p => p.id === budgetId);\r\n\r\n\t\tif (budgetBase) {\r\n\t\t\treturn {\r\n\t\t\t\tid: budgetId,\r\n\t\t\t\tclientId: budgetBase.client.id,\r\n\t\t\t\tdiscount: budgetBase.discount,\r\n\t\t\t\tendDate: budgetBase.endDate,\r\n\t\t\t\tstartDate: budgetBase.startDate,\r\n\t\t\t\tnotes: budgetBase.notes\r\n\t\t\t} as AddBudgetForm;\r\n\r\n\t\t}\r\n\r\n\t\treturn {} as AddBudgetForm;\r\n\t}\r\n\r\n\tconst onFinish = (data: AddBudgetForm): void => {\r\n\r\n\t\tconst client = clients.find(c => c.id === data.clientId) || {} as Client;\r\n\r\n\t\tconst newBudget: BudgetDTO = {\r\n\t\t\tdiscount: data.discount,\r\n\t\t\tendDate: data.endDate,\r\n\t\t\tnotes: data.notes,\r\n\t\t\ttotal: data.total,\r\n\r\n\t\t\tclient: client,\r\n\t\t\tstartDate: new Date(),\r\n\t\t\tproducts: listProductsBudget,\r\n\t\t}\r\n\r\n\t\tif (budgetId) {\r\n\t\t\teditBudget(budgetId, newBudget);\r\n\t\t} else {\r\n\t\t\taddBudget(newBudget);\r\n\t\t}\r\n\r\n\t\tclearFormModal();\r\n\t\tsetIsModalVisible(false);\r\n\t}\r\n\r\n\t//#region Table ProdcutsBudgets\r\n\r\n\tconst onRemoveProductBudget = (productId: string) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover esse produto?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tconst result = listProductsBudget.filter(p => p.id !== productId);\r\n\t\t\t\tsetListProductsBudget(result);\r\n\t\t\t},\r\n\t\t\tonCancel() { }\r\n\t\t});\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Nome',\r\n\t\t\tdataIndex: 'title',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Quantidade',\r\n\t\t\tdataIndex: 'quantity',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Desconto',\r\n\t\t\tdataIndex: 'discount',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: ProductBudget) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemoveProductBudget(record.id)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tconst onChangeSelectProduct = (value: string): void => {\r\n\r\n\t\tconst product = products.find(p => p.id === value);\r\n\r\n\t\tif (product) {\r\n\t\t\tconst productBudget = {\r\n\t\t\t\tid: product.id,\r\n\t\t\t\ttitle: product.title,\r\n\t\t\t\tdescription: product.description,\r\n\t\t\t\tquantity: 1,\r\n\t\t\t\tdiscount: 0,\r\n\t\t\t} as ProductBudget;\r\n\r\n\t\t\tsetProductBudget(productBudget);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleAddProductBudget = () => {\r\n\t\tconst quantity = Number(productBudget?.quantity) || 0;\r\n\t\tconst discount = Number(productBudget?.discount) || 0;\r\n\r\n\t\tconst idxProductOnTable = listProductsBudget.findIndex(p => p.id === productBudget.id);\r\n\r\n\t\tif (idxProductOnTable !== -1) {\r\n\t\t\tlistProductsBudget[idxProductOnTable].quantity += quantity;\r\n\t\t\tlistProductsBudget[idxProductOnTable].discount += discount;\r\n\t\t\tsetListProductsBudget([...listProductsBudget]);\r\n\t\t} else {\r\n\t\t\tsetListProductsBudget([...listProductsBudget, productBudget]);\r\n\t\t}\r\n\r\n\t\tsetProductBudget({} as ProductBudget);\r\n\t}\r\n\r\n\t//#endregion\r\n\r\n\tconst clearFormModal = (): void => {\r\n\t\tform.resetFields();\r\n\t\tsetProductBudget({} as ProductBudget);\r\n\t\tsetListProductsBudget([] as ProductBudget[]);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={budgetId ? \"Editar orçamento\" : \"Criar orçamento\"}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tclearFormModal();\r\n\t\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t\t}}\r\n\t\t\t\twidth={1000}\r\n\t\t\t>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tname=\"form-create-edit-budget\"\r\n\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={prepareInitialValues()}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Adicionar cliente\"\r\n\t\t\t\t\t\tname=\"clientId\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\tplaceholder=\"Selecione o cliente\"\r\n\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tclients.map(c => (\r\n\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t// selec={c.id === (budget.client && budget.client.id)}\r\n\t\t\t\t\t\t\t\t\t\tkey={c.id}\r\n\t\t\t\t\t\t\t\t\t\tvalue={c.id}>\r\n\t\t\t\t\t\t\t\t\t\t{c.name} - {c.email}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<label>Adicionar Produtos</label>\r\n\t\t\t\t\t<Space\r\n\t\t\t\t\t\tdirection='horizontal'\r\n\t\t\t\t\t\tsize={16}\r\n\t\t\t\t\t\tstyle={{ marginBottom: 16 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>Produto: </span>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Selecione o produto\"\r\n\t\t\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\t\t\tvalue={productBudget?.id ?? \"\"}\r\n\t\t\t\t\t\t\tonChange={onChangeSelectProduct}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tproducts.map(c => (\r\n\t\t\t\t\t\t\t\t\t<Option key={c.id} value={c.id}>{c.title}</Option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\r\n\t\t\t\t\t\t<span>Quantidade: </span>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tplaceholder=\"Quantidade\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tvalue={productBudget.quantity}\r\n\t\t\t\t\t\t\tonChange={(value: number) => {\r\n\t\t\t\t\t\t\t\tsetProductBudget({ ...productBudget, quantity: value } as ProductBudget);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<span>Desconto: </span>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tplaceholder=\"Desconto no produto\"\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tvalue={productBudget.discount}\r\n\t\t\t\t\t\t\tonChange={(value: number) => {\r\n\t\t\t\t\t\t\t\tsetProductBudget({ ...productBudget, discount: value } as ProductBudget);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={handleAddProductBudget}>Adicionar</Button>\r\n\t\t\t\t\t</Space>\r\n\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={listProductsBudget}\r\n\t\t\t\t\t/>\r\n\r\n\r\n\r\n\t\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\t\tname=\"endDate\"\r\n\t\t\t\t\t\tlabel=\"Data de validade\">\r\n\t\t\t\t\t\t<DatePicker />\r\n\t\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Observações/Anotações\"\r\n\t\t\t\t\t\tname=\"notes\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TextArea />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t{budgetId ? \"Editar\" : \"Salvar\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\nexport default CreateBudget;\r\n","import React, { useContext } from \"react\";\r\nimport { Modal, Table, Button, Space } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { Client } from \"../../models\";\r\nimport { BudgetContextType, BudgetsContext } from \"../../contexts\";\r\n\r\ninterface ClientListProps {\r\n\tsetClientId: (id: string) => void;\r\n}\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst ClientsList: React.FC<ClientListProps> = (props) => {\r\n\tconst { setClientId } = props;\r\n\tconst { clients, removeClient } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\tconst onRemove = (budget: Client) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: `Tem ceteza que você quer remover esse cliente?`,\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Remova só se tiver certeza.',\r\n\t\t\tokText: 'Sim',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Não',\r\n\t\t\tonOk() {\r\n\t\t\t\tremoveClient(budget.id);\r\n\t\t\t},\r\n\t\t\tonCancel() { }\r\n\t\t});\r\n\t};\r\n\r\n\tconst onEdit = (budgetId: string) => {\r\n\t\tsetClientId(budgetId);\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cliente',\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.name}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'E-mail',\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.email}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Endereço',\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.address}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cidade',\r\n\t\t\trender: (_: any, record: Client) =>\r\n\t\t\t\t<span>{record.city}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ações',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_: any, record: Client) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<EditOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tonClick={() => onEdit(record.id)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => onRemove(record)} />\r\n\t\t\t\t</Space>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tdataSource={clients}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ClientsList;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Button, Form, Input, Modal } from \"antd\";\r\n\r\nimport { BudgetContextType, BudgetsContext } from \"../../contexts\";\r\nimport { Client, ClientDTO } from \"../../models\";\r\n\r\ninterface AddClientForm {\r\n\tid: string;\r\n\tname: string;\r\n\taddress: string;\r\n\tcity: string;\r\n\temail: string;\r\n}\r\n\r\ninterface CreateClientProps {\r\n\tclientId?: string;\r\n\tisModalVisible: boolean;\r\n\tsetIsModalVisible: (visible: boolean) => void;\r\n}\r\n\r\nconst CreateClient: React.FC<CreateClientProps> = ({ clientId, isModalVisible, setIsModalVisible }) => {\r\n\tconst [form] = Form.useForm();\r\n\r\n\tconst { clients, editClient, addClient } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tid: \"\",\r\n\t\t\tname: \"\",\r\n\t\t\taddress: \"\",\r\n\t\t\tcity: \"\",\r\n\t\t\temail: \"\",\r\n\t\t} as Client);\r\n\r\n\t\tform.setFieldsValue(prepareInitialValues());\r\n\t}, [clientId]);\r\n\r\n\tconst onFinish = (data: AddClientForm): void => {\r\n\r\n\t\tconst newClient: ClientDTO = {\r\n\t\t\t...data,\r\n\t\t}\r\n\r\n\t\tif (clientId) {\r\n\t\t\teditClient(clientId, newClient);\r\n\t\t} else {\r\n\t\t\taddClient(newClient);\r\n\t\t}\r\n\r\n\t\tsetIsModalVisible(false);\r\n\t\tform.resetFields();\r\n\t}\r\n\r\n\tconst prepareInitialValues = (): Client => {\r\n\t\tconst clientBase = clients.find((p: Client) => p.id === clientId);\r\n\r\n\t\tif (clientBase) {\r\n\t\t\treturn {\r\n\t\t\t\t...clientBase\r\n\t\t\t} as Client;\r\n\t\t}\r\n\r\n\t\treturn {} as Client;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={clientId ? \"Editar cliente\" : \"Criar cliente\"}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tonCancel={() => { setIsModalVisible(false) }}\r\n\t\t\t>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tname=\"form-create-edit-client\"\r\n\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={prepareInitialValues()}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Nome\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"E-mail\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Rua..., numero\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Cidade\"\r\n\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t{clientId ? \"Editar\" : \"Salvar\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n};\r\n\r\nexport default CreateClient;\r\n","import React, { useState } from \"react\";\r\nimport { Button, PageHeader } from 'antd';\r\nimport {\r\n\tPlusCircleOutlined,\r\n} from '@ant-design/icons'\r\n\r\nimport { ClientsList, CreateClient } from \"../../components\";\r\nimport { Config } from \"../../configs\";\r\n\r\nconst Clients: React.FC = () => {\r\n\tconst [isModalVisible, setIsModalVisible] = useState<boolean>(false);\r\n\tconst [budgetId, setClientId] = useState<string>(\"\");\r\n\r\n\tconst changeModal = (visible = false): void => {\r\n\t\tsetIsModalVisible(visible);\r\n\t};\r\n\r\n\tconst changeClientId = (id: string): void => {\r\n\t\tsetClientId(id)\r\n\t\tchangeModal(true);\r\n\t};\r\n\r\n\tconst breadcrumb = [\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/`,\r\n\t\t\tbreadcrumbName: 'Home',\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/clients`,\r\n\t\t\tbreadcrumbName: 'Clientes',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader\r\n\t\t\t\tclassName=\"site-page-header\"\r\n\t\t\t\ttitle=\"Clientes\"\r\n\t\t\t\tbreadcrumb={{ routes: breadcrumb }}\r\n\t\t\t\tsubTitle=\"Listagem de cliente\"\r\n\t\t\t\textra={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetClientId(\"\");\r\n\t\t\t\t\t\t\tchangeModal(true)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdicionar cliente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t<CreateClient\r\n\t\t\t\tclientId={budgetId}\r\n\t\t\t\tisModalVisible={isModalVisible}\r\n\t\t\t\tsetIsModalVisible={changeModal}\r\n\t\t\t/>\r\n\r\n\t\t\t<ClientsList\r\n\t\t\t\tsetClientId={changeClientId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Clients;\r\n","import React, { useState } from \"react\";\r\nimport { Button, PageHeader } from 'antd';\r\nimport {\r\n\tPlusCircleOutlined,\r\n} from '@ant-design/icons'\r\n\r\nimport { BudgetsList, CreateBudget } from \"../../components\";\r\nimport { Config } from \"../../configs\";\r\n\r\nconst Budgets: React.FC = () => {\r\n\r\n\tconst [isModalVisible, setIsModalVisible] = useState<boolean>(false);\r\n\tconst [budgetId, setBudgetId] = useState<string>(\"\");\r\n\r\n\tconst changeModal = (visible = false): void => {\r\n\t\tsetIsModalVisible(visible);\r\n\t};\r\n\r\n\tconst changeBudgetId = (id: string): void => {\r\n\t\tsetBudgetId(id)\r\n\t\tchangeModal(true);\r\n\t};\r\n\r\n\tconst breadcrumb = [\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/`,\r\n\t\t\tbreadcrumbName: 'Home',\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/budgets`,\r\n\t\t\tbreadcrumbName: 'Orçamentos',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader\r\n\t\t\t\tclassName=\"site-page-header\"\r\n\t\t\t\ttitle=\"Orçamentos\"\r\n\t\t\t\tbreadcrumb={{ routes: breadcrumb }}\r\n\t\t\t\tsubTitle=\"Listagem de produtos\"\r\n\t\t\t\textra={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetBudgetId(\"\");\r\n\t\t\t\t\t\t\tchangeModal(true)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdicionar Orçamento\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t<CreateBudget\r\n\t\t\t\tbudgetId={budgetId}\r\n\t\t\t\tisModalVisible={isModalVisible}\r\n\t\t\t\tsetIsModalVisible={changeModal}\r\n\t\t\t/>\r\n\r\n\t\t\t<BudgetsList\r\n\t\t\t\tsetBudgetId={changeBudgetId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Budgets;\r\n","import React, { useState } from \"react\";\r\nimport { Button, PageHeader } from 'antd';\r\nimport {\r\n\tPlusCircleOutlined,\r\n} from '@ant-design/icons'\r\n\r\nimport { CreateProduct, ProductsList } from \"../../components\";\r\nimport { Config } from \"../../configs\";\r\n\r\nconst Products: React.FC = () => {\r\n\tconst [isModalVisible, setIsModalVisible] = useState<boolean>(false);\r\n\tconst [productId, setProductId] = useState<string>(\"\");\r\n\r\n\tconst changeModal = (visible = false): void => {\r\n\t\tsetIsModalVisible(visible);\r\n\t};\r\n\r\n\tconst changeProductId = (id: string): void => {\r\n\t\tsetProductId(id)\r\n\t\tchangeModal(true);\r\n\t};\r\n\r\n\tconst breadcrumb = [\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/`,\r\n\t\t\tbreadcrumbName: 'Home',\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `${Config.BASE_URL}/products`,\r\n\t\t\tbreadcrumbName: 'Produtos',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PageHeader\r\n\t\t\t\tclassName=\"site-page-header\"\r\n\t\t\t\ttitle=\"Produtos\"\r\n\t\t\t\tbreadcrumb={{ routes: breadcrumb }}\r\n\t\t\t\tsubTitle=\"Listagem de produtos\"\r\n\t\t\t\textra={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProductId(\"\");\r\n\t\t\t\t\t\t\tchangeModal(true)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tAdicionar Produto\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\r\n\t\t\t<CreateProduct\r\n\t\t\t\tproductId={productId}\r\n\t\t\t\tisModalVisible={isModalVisible}\r\n\t\t\t\tsetIsModalVisible={changeModal}\r\n\t\t\t/>\r\n\r\n\t\t\t<ProductsList\r\n\t\t\t\tsetProductId={changeProductId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Products;\r\n","import React from \"react\";\r\n\r\nconst Home: React.FC = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Gerador de Orçamento</h1>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import {\r\n\tdrawDOM,\r\n\texportPDF,\r\n\tDrawOptions,\r\n\tGroup,\r\n} from \"@progress/kendo-drawing\";\r\n\r\nimport { savePDF } from \"@progress/kendo-react-pdf\";\r\n\r\nimport { Email } from '../models';\r\n\r\nconst GenerateBase64Pdf = async (element: HTMLElement, options?: DrawOptions) =>\r\n\tdrawDOM(element, {\r\n\t\tpaperSize: \"A4\",\r\n\t\tmargin: {\r\n\t\t\tleft: 40,\r\n\t\t\ttop: 40,\r\n\t\t\tright: 40,\r\n\t\t\tbottom: 40,\r\n\t\t}\r\n\t})\r\n\t\t.then((group: Group) => exportPDF(group))\r\n\t\t.then((dataUri: string) => {\r\n\t\t\treturn dataUri.replace('data:application/pdf;base64,', '');\r\n\t\t});\r\n\r\nconst GenerateFilePdfDownload = (element: HTMLElement, filename: string = 'arquivo'): void => {\r\n\tsavePDF(element, {\r\n\t\tpaperSize: \"A4\",\r\n\t\tmargin: 40,\r\n\t\tfileName: `${new Date().getFullYear()}-${new Date().getMonth()}-${new Date().getDay()}-${filename}.pdf`,\r\n\t});\r\n}\r\n\r\nconst SendToAPI = async (email: Email) => {\r\n\tconst url = 'http://localhost:7071/api/post-budget';\r\n\tconst response = await fetch(url, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ email}),\r\n\t});\r\n\treturn response && response.json();\r\n}\r\n\r\nconst PdfUtils = {\r\n\tGenerateBase64Pdf,\r\n\tSendToAPI,\r\n\tGenerateFilePdfDownload\r\n}\r\n\r\nexport default PdfUtils;","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Button, Space } from \"antd\";\r\nimport { PDFExport } from \"@progress/kendo-react-pdf\";\r\n\r\n\r\nimport './styles.css'\r\nimport { PdfUtils } from \"../../Utils\";\r\nimport { Budget, Email } from \"../../models\";\r\nimport { BudgetContextType, BudgetsContext } from \"../../contexts\";\r\n\r\nconst COMPANY_NAME = \"Stevanini Inc.\";\r\nconst COMPANY_ADDRESS = \"Rua Honório Lacerda Filho, 132\";\r\nconst COMPANY_CITY = \"Leopoldina-MG\";\r\nconst COMPANY_EMAIL = \"nao-responda@stevanini.com.br\";\r\n\r\ninterface AddBudgetParams {\r\n\tbudgetId: string;\r\n}\r\n\r\nconst Pdf = () => {\r\n\tlet { budgetId } = useParams<AddBudgetParams>();\r\n\r\n\tconst { budgets } = useContext<BudgetContextType>(BudgetsContext);\r\n\r\n\r\n\tconst [budget, setBudget] = useState<Budget>({} as Budget);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst lsBudget = budgets.find(p => p.id === budgetId);\r\n\t\tif (lsBudget) {\r\n\t\t\tsetBudget(new Budget(\r\n\t\t\t\tlsBudget.id,\r\n\t\t\t\tlsBudget.startDate,\r\n\t\t\t\tlsBudget.endDate,\r\n\t\t\t\tlsBudget.client,\r\n\t\t\t\tlsBudget.products,\r\n\t\t\t\tlsBudget.notes,\r\n\t\t\t\tlsBudget.discount,\r\n\t\t\t\tlsBudget.total,\r\n\t\t\t));\r\n\t\t}\r\n\t}, [budgetId]);\r\n\r\n\tconst container = useRef<HTMLDivElement>(null);\r\n\tconst pdfExportComponent = useRef<PDFExport>(null);\r\n\r\n\tconst sendPDFInEmail = async () => {\r\n\t\tlet element = container.current || document.body;\r\n\t\tconst pdfBase64 = await PdfUtils.GenerateBase64Pdf(element);\r\n\r\n\t\t//Enviar para API\r\n\t\tconst email = new Email(\r\n\t\t\t\"romulo-gouvea@hotmail.com\",\r\n\t\t\t\"O assunto vindo do post\",\r\n\t\t\tpdfBase64\r\n\t\t);\r\n\r\n\t\tawait PdfUtils.SendToAPI(email);\r\n\t};\r\n\r\n\tconst exportPDFWithMethod = () => {\r\n\t\tlet element = container.current || document.body;\r\n\r\n\t\tPdfUtils.GenerateFilePdfDownload(element, budget?.client.email + \".pdf\");\r\n\t};\r\n\r\n\tconst renderPdf = () => (\r\n\t\t<PDFExport\r\n\t\t\tref={pdfExportComponent}\r\n\t\t\tpaperSize=\"auto\"\r\n\t\t\tmargin={40}\r\n\t\t\tfileName={`Report for ${new Date().getFullYear()}`}\r\n\t\t\tauthor=\"KendoReact Team\"\r\n\t\t>\r\n\t\t\t<div ref={container}>\r\n\t\t\t\t<div id=\"body-pdf\">\r\n\t\t\t\t\t<table className=\"t0\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className=\"t0-col\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"p0\">{COMPANY_NAME}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{COMPANY_EMAIL}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{COMPANY_ADDRESS}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{COMPANY_CITY}</p>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th className=\"t0-col\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"p8\">ORÇAMENTO</p>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td className=\"t0-col\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"p3 ft2 mt-30\">Para o cliente:</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{budget?.client?.name}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{budget?.client?.email}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{budget?.client?.address}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"p1\">{budget?.client?.city}</p>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"t0-br\">\r\n\t\t\t\t\t\t\t\t\t<table className=\"t1\">\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"tr1 td0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Data do Orçamento</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"tr1 td1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">{budget?.startDate ? new Date(budget.startDate).toLocaleDateString(\"pt-BR\") : \"--\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"tr2 td0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Válido até</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"tr2 td1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">{budget?.endDate ? new Date(budget.endDate).toLocaleDateString(\"pt-BR\") : \"Sem limite de validade\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t<table className=\"t2\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className=\"t2-header\">Nome do produto</th>\r\n\t\t\t\t\t\t\t\t<th className=\"t2-header p-center w-100px\">Quantidade</th>\r\n\t\t\t\t\t\t\t\t<th className=\"t2-header p-center w-100px\">Preço</th>\r\n\t\t\t\t\t\t\t\t<th className=\"t2-header p-center w-100px\">Total</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tbudget?.products?.map(p => (\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col\">{p.title}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col p-center w-100px\">{p.quantity}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col p-center w-100px\">R$ {p.salePrice || 0}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t2-col p-center w-100px\">R$ {/*p.calculateSubTotal()*/ 0}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t<div className=\"t3-container\">\r\n\t\t\t\t\t\t<table className=\"t3\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th className=\"t3-header\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Subtotal</p>\r\n\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t<th className=\"t3-header \">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">R$ {/*budget.calculateSubTotal()*/0}</p>\r\n\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{budget?.discount && (\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">Descontos(%)</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">{budget?.discount} %</p>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<tr className=\"t3-footer\">\r\n\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft6\">TOTAL</p>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"t3-col\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"p9 ft1 p-right\">RS {/*budget.calculateTotal()*/0}</p>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<p className=\"p3 ft2 pdt-30\">Observações:</p>\r\n\t\t\t\t\t<p className=\"p1 pdb-30\">{budget?.notes}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</PDFExport >\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"container-pdf\">\r\n\t\t\t\t{renderPdf()}\r\n\t\t\t</div>\r\n\t\t\t<Space style={{ width: '100%' }} >\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={exportPDFWithMethod}>\r\n\t\t\t\t\tBaixar arquivo em PDF\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={sendPDFInEmail}>\r\n\t\t\t\t\tEnviar por email\r\n\t\t\t\t</Button>\r\n\t\t\t</Space>\r\n\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Pdf;\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { Budgets, Home, Products, Pdf, Clients } from \"../pages\";\r\nimport { Config } from \"../configs\";\r\n\r\nconst Routes: React.FC = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={`${Config.BASE_URL}/`} exact component={Home} />\r\n\r\n\t\t\t<Route path={`${Config.BASE_URL}/products`} exact component={Products} />\r\n\r\n\t\t\t<Route path={`${Config.BASE_URL}/budgets`} exact component={Budgets} />\r\n\t\t\t<Route path={`${Config.BASE_URL}/budgets/pdf/:budgetId`} component={Pdf} />\r\n\t\t\t<Route path={`${Config.BASE_URL}/clients`} exact component={Clients} />\r\n\r\n\t\t\t<Redirect from=\"*\" to={`${Config.BASE_URL}/`} />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState } from \"react\";\r\nimport { Router } from \"react-router-dom\";\r\nimport history from \"./routes/history\";\r\nimport { Navbar } from \"./components\";\r\nimport { BudgetsProvider, ProductsProvider } from \"./contexts\";\r\nimport Routes from \"./routes\";\r\n\r\nimport \"./styles.css\";\r\n\r\nimport { Layout } from 'antd';\r\nimport {\r\n\tMenuUnfoldOutlined,\r\n\tMenuFoldOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nfunction App() {\r\n\tconst [collapse, setCollapse] = useState(false);\r\n\r\n\treturn (\r\n\t\t<Router history={history}>\r\n\t\t\t<BudgetsProvider>\r\n\t\t\t\t<ProductsProvider>\r\n\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<Navbar collapse={collapse} />\r\n\t\t\t\t\t\t<Layout style={{ minHeight: '100vh' }}>\r\n\t\t\t\t\t\t\t<Header style={{ padding: 0, background: \"#fff\" }}>\r\n\t\t\t\t\t\t\t\t{React.createElement(collapse ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n\t\t\t\t\t\t\t\t\tclassName: 'trigger',\r\n\t\t\t\t\t\t\t\t\tonClick: () => { setCollapse(!collapse); }\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t<Content\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tmargin: '24px 16px',\r\n\t\t\t\t\t\t\t\t\tpadding: 24,\r\n\t\t\t\t\t\t\t\t\tminHeight: 280,\r\n\t\t\t\t\t\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Routes />\r\n\t\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t\t</Layout>\r\n\t\t\t\t\t</Layout>\r\n\r\n\t\t\t\t</ProductsProvider>\r\n\t\t\t</BudgetsProvider>\r\n\t\t</Router >\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport 'antd/dist/antd.css'; // or 'antd/dist/antd.less'\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}